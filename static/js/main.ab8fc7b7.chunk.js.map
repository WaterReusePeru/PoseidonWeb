{"version":3,"sources":["app/components/UnitProcesses.js","app/images/Calculations.png","app/components/GeneralReference.js","app/components/Pestle.js","app/components/CaseStudies.js","app/components/TreatmentTrains.js","app/i18n/textLabels.js","app/components/WaterQualities.js","app/components/Learn.tsx","app/case/caseSlice.js","app/components/CommInfo.js","app/components/Bar.js","app/components/InputQuality.js","app/components/SolutionsBox.js","app/case/CalculateSolutions.js","app/components/EndUse.js","app/components/Quantity.js","app/components/CaseSummary.js","app/theme/theme.js","app/components/Case.js","app/components/Results.js","app/components/UserMenu.js","app/images/PoseidonWebIcon.tsx","app/components/App.js","app/containers/App.tsx","app/store.js","app/i18n/i18n.js","app/i18n/translations.js","index.tsx"],"names":["UnitProcesses","getMuiTheme","theme","overrides","MUIDataTable","paper","boxShadow","this","props","t","classes","data","unitProcesses","columns","name","options","filter","i18next","language","label","customBodyRenderLite","dataIndex","columnTitles","className","chipContainer","map","column","index","Tooltip","title","Chip","size","recovery","color","style","opacity","setCellProps","minWidth","filterType","selectableRows","rowsPerPage","print","React","Component","withStyles","display","justifyContent","flexWrap","margin","withTranslation","useStyles","makeStyles","main","height","width","gridTemplateColumns","gridRowGap","justifyItems","paddingLeft","paddingRight","paddingTop","root","flexGrow","img","maxWidth","maxHeight","GeneralReference","useTranslation","Paper","elevation","padding","Grid","container","direction","alignItems","spacing","item","xs","Typography","variant","src","Calculations","alt","Pestle","CaseStudies","TreatmentTrains","treatmentTrains","lang","titleCol","descriptionCol","caseStudyCol","UPList","unit_processes","up","nameEs","fixedHeader","TextLabels","textLabels","body","noMatch","toolTip","columnHeaderTooltip","pagination","next","previous","displayRows","toolbar","search","downloadCsv","viewColumns","filterTable","all","reset","titleAria","selectedRows","text","delete","deleteAria","WaterQualities","waterQualities","qualities","waterQualityCategories","nameCol","noteCol","referenceCol","customBodyRender","value","minHeight","textAlign","Learn","useState","menuPoint","setMenuPoint","square","Tabs","onChange","event","newValue","indicatorColor","textColor","centered","Tab","to","process","component","Link","exact","path","caseSlice","createSlice","initialState","step","completedSteps","commInfo","countryID","currency","inputQuality","category","qualityClass","endUse","quantity","amount","distance","heightDifference","solution","noneNeeded","noneAvailable","sortByCost","solutions","treatmentTrain","rating","capex","annualizedCapex","annualizedCapexPerCubic","reducers","state","setStep","action","payload","setCountry","setCurrency","setInputQualityCategory","setInputQualityClass","setEndUseQualityCategory","setEndUseQualityClass","setQuantity","setDistance","setHeightDifference","setSolutionNoneNeeded","resetSolutions","setSolutionNoneAvailable","setSolutions","forEach","treatment","setSolutionSortByCost","actions","CommInfo","useSelector","case","dispatch","useDispatch","countries","communityInfo","country","push","usdObj","id","Autocomplete","getOptionLabel","option","getOptionSelected","disableClearable","renderInput","params","TextField","disabled","Math","round","landCost","exchangeToUSD","electricityCost","personalCost","discountRate","Bar","useTheme","outputColor","palette","primary","Number","input","output","error","success","legend","average","factor","unit","toUpperCase","indexBy","keys","top","right","bottom","left","valueScale","type","indexScale","colors","d","colorBy","axisTop","axisRight","axisBottom","tickSize","tickPadding","tickRotation","legendPosition","legendOffset","labelSkipHeight","toExponential","toLocaleString","getLabel","enableGridY","animate","motionStiffness","motionDamping","tooltip","background","InputQuality","q","waterQualityFactors","f","key","xmlns","fill","backgroundColor","default","SolutionsBox","caseState","endUseQuality","comm","enduse","byCost","costFactors","treatmentFactors","qualityFactor","outputQualities","evaluationCriteria","topThreeTreatments","TreatmentFactors","suitableTreatmentTrain","outputQualityPerFactor","outputCostPerFactor","treatmentFactor","outputQualityStep","unitProcess","costFactor","criteria","outputCostStep","treatmentTrainTitle","turbidity","tss","bod","cod","fc","tc","constructionCost","landRequirements","energyRequirements","laborRequirements","otherOM","length","findSuitableTreatments","sort","a","b","slice","CalculateSolutions","Switch","checked","categoryEs","isNaN","EndUse","Quantity","validQuantity","setValidQuantity","validDistance","setValidDistance","validHeightDifference","setValidHeightDifference","marginBottom","helperText","InputLabelProps","shrink","target","isInteger","InputProps","endAdornment","InputAdornment","position","fullWidth","CaseSummary","fontSize","secondary","createTheme","button","marginRight","instructions","marginTop","CustomConnector","alignSelf","line","borderRadius","StepConnector","getStepContent","Case","count","steps","Stepper","activeStep","connector","Step","StepLabel","Button","onClick","includes","Results","solutionsState","titleEs","SimpleMenu","anchorEl","setAnchorEl","handleClose","handleChooseLanguage","changeLanguage","currentTarget","startIcon","endIcon","Menu","keepMounted","open","Boolean","onClose","MenuItem","drop","stroke","strokeMiterlimit","p","strokeWidth","PoseidonWebIcon","viewBox","App","AppBar","Toolbar","ThemeProvider","CssBaseline","configureStore","reducer","caseReducer","i18n","use","initReactI18next","init","resources","es","translation","Name","Turbidity","Recovery","reliability","waste","Search","Category","Title","Description","Note","Reference","Personalize","Finish","Next","Back","Country","Currency","day","Input","Rating","Cost","Ranking","lng","interpolation","escapeValue","Root","store","ReactDOM","render","document","getElementById"],"mappings":"ih7OAuBMA,E,4MACJC,YAAc,SAAAC,GAAK,MAAK,CACtBC,UAAW,CACTC,aAAc,CACZC,MAAO,CACLC,UAAW,Y,4CAMnB,WACE,MAAuBC,KAAKC,MAApBC,EAAR,EAAQA,EAAGC,EAAX,EAAWA,QAELC,EAAOC,EAKPC,EAAU,CACd,CACEC,KAAM,KACNC,QAAS,CACPC,QAAQ,IAGZ,CACEF,KAVmB,OAFVG,IAAQC,SAES,OAAS,SAWnCC,MAAOV,EAAE,QACTM,QAAS,CACPC,QAAQ,IAGZ,CACEF,KAAM,MACNK,MAAOV,EAAE,8CACTM,QAAS,CACPC,QAAQ,EACRI,qBAAsB,SAAAC,GACpB,IACMC,EAAe,CAACb,EAAE,aAAc,MAAO,MAAO,MAAO,KAAM,MAEjE,OACE,qBAAKc,UAAWb,EAAQc,cAAxB,SAJc,CAAC,YAAa,MAAO,MAAO,MAAO,KAAM,MAK5CC,KAAI,SAACC,EAAQC,GAAT,OACX,cAACC,EAAA,EAAD,CAAqBC,MAAOP,EAAaK,GAAzC,SACE,cAACG,EAAA,EAAD,CAAMX,MAAOR,EAAKU,GAAWK,GAAqBK,KAAK,SAAZJ,IAD/BA,WAS1B,CACEb,KAAM,WACNK,MAAOV,EAAE,YAAc,OACvBM,QAAS,CACPC,QAAQ,EACRI,qBAAsB,SAAAC,GACpB,OACE,qBAAKE,UAAWb,EAAQc,cAAxB,SACE,cAACM,EAAA,EAAD,CAAMX,MAAOR,EAAKU,GAAWW,SAAUD,KAAK,eAMtD,CACEjB,KAAM,cACNK,MAAOV,EAAE,uBAAyB,SAClCM,QAAS,CACPC,QAAQ,EACRI,qBAAsB,SAAAC,GACpB,IAgBMC,EAAe,CACnBb,EAAE,eACFA,EAAE,mBACFA,EAAE,gCACFA,EAAE,mCACFA,EAAE,iBACFA,EAAE,wBACFA,EAAE,yBACFA,EAAE,gBACFA,EAAE,mBACFA,EAAE,mBACFA,EAAE,0BACFA,EAAE,qBACFA,EAAE,qBACFA,EAAE,UAGJ,OACE,qBAAKc,UAAWb,EAAQc,cAAxB,SAlCc,CACd,cACA,kBACA,+BACA,kCACA,aACA,uBACA,wBACA,eACA,kBACA,kBACA,yBACA,oBACA,oBACA,SAqBWC,KAAI,SAACC,EAAQC,GAAT,OACX,cAACC,EAAA,EAAD,CAAqBC,MAAOP,EAAaK,GAAzC,SACE,cAACG,EAAA,EAAD,CACEX,MAAOR,EAAKU,GAAWK,GAEvBK,KAAK,QACLE,MAAM,UACNC,MAAO,CAAEC,QAAS,IAAOxB,EAAKU,GAAWK,GAAU,IAH9CC,IAHKA,SAatBS,aAAc,iBAAO,CAAEF,MAAO,CAAEG,SAAU,YAG9C,CACEvB,KAAM,cACNK,MAAOV,EAAE,qBACTM,QAAS,CACPC,QAAQ,EACRI,qBAAsB,SAAAC,GACpB,OACE,qBAAKE,UAAWb,EAAQc,cAAxB,SACE,cAACM,EAAA,EAAD,CAAMX,MAAOR,EAAKU,GAAWW,SAAUD,KAAK,gBAgBxD,OACE,cAAC,IAAD,CAAkB7B,MAAOK,KAAKN,cAA9B,SACE,cAAC,IAAD,CAAc4B,MAAOpB,EAAE,kBAAmBE,KAAMA,EAAME,QAASA,EAASE,QAV5D,CACdC,QAAQ,EACRsB,WAAY,WACZC,eAAgB,OAChBC,YAAa,GACbC,OAAO,W,GAnJeC,IAAMC,WA8JnBC,eAzKA,SAAA1C,GAAK,MAAK,CACvBsB,cAAe,CACbqB,QAAS,OACTC,eAAgB,OAChBC,SAAU,OACV,QAAS,CACPC,OAAQ,OAmKCJ,CAAmBK,cAAkBjD,I,kBCrLrC,MAA0B,yC,SCQnCkD,EAAYC,KAAW,SAAAjD,GAAK,MAAK,CACrCkD,KAAM,CACJP,QAAS,OACTQ,OAAQ,sBACRC,MAAO,QACPC,oBAAqB,MACrBC,WAAY,EACZC,aAAc,UACdX,eAAgB,SAChBY,YAAa,OACbC,aAAc,OACdC,WAAY,IAEdC,KAAM,CACJC,SAAU,EACVF,WAAY,IAEdG,IAAK,CACHf,OAAQ,OACRH,QAAS,QACTmB,SAAU,OACVC,UAAW,YAIA,SAASC,IACtB,IAAMxD,EAAUwC,IACRzC,EAAM0D,cAAN1D,EAER,OACE,qBAAKc,UAAWb,EAAQ0C,KAAxB,SACE,cAACgB,EAAA,EAAD,CAAOC,UAAW,EAAGnC,MAAO,CAAEoC,QAAS,IAAvC,SACE,eAACC,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,WAAW,aAAaC,QAAS,EAAjE,UACE,cAACJ,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,GAAf,SACE,cAACC,EAAA,EAAD,CAAYC,QAAQ,KAApB,SAA0BtE,EAAE,yBAE9B,eAAC8D,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,UACE,cAACC,EAAA,EAAD,UACGrE,EACC,wpBAGJ,cAACqE,EAAA,EAAD,UACGrE,EACC,6bAGJ,cAACqE,EAAA,EAAD,UACGrE,EACC,8HAIN,cAAC8D,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,qBAAKtD,UAAWb,EAAQqD,IAAKiB,IAAKC,EAAcC,IAAKzE,EAAE,uDCpDnE,IAAMyC,EAAYC,KAAW,SAAAjD,GAAK,MAAK,CACrCkD,KAAM,CACJP,QAAS,OACTQ,OAAQ,sBACRC,MAAO,QACPC,oBAAqB,MACrBC,WAAY,EACZC,aAAc,UACdX,eAAgB,SAChBY,YAAa,OACbC,aAAc,OACdC,WAAY,IAEdC,KAAM,CACJC,SAAU,EACVF,WAAY,QAID,SAASuB,IACtB,IAAMzE,EAAUwC,IACRzC,EAAM0D,cAAN1D,EAER,OACE,qBAAKc,UAAWb,EAAQ0C,KAAxB,SACE,cAACgB,EAAA,EAAD,CAAOC,UAAW,EAAGnC,MAAO,CAAEoC,QAAS,IAAvC,SACE,cAACQ,EAAA,EAAD,CAAYC,QAAQ,KAApB,SAA0BtE,EAAE,gBC1BpC,IAAMyC,EAAYC,KAAW,SAAAjD,GAAK,MAAK,CACrCkD,KAAM,CACJP,QAAS,OACTQ,OAAQ,sBACRC,MAAO,QACPC,oBAAqB,MACrBC,WAAY,EACZC,aAAc,UACdX,eAAgB,SAChBY,YAAa,OACbC,aAAc,OACdC,WAAY,IAEdC,KAAM,CACJC,SAAU,EACVF,WAAY,QAID,SAASwB,IACtB,IAAM1E,EAAUwC,IACRzC,EAAM0D,cAAN1D,EAER,OACE,qBAAKc,UAAWb,EAAQ0C,KAAxB,SACE,cAACgB,EAAA,EAAD,CAAOC,UAAW,EAAGnC,MAAO,CAAEoC,QAAS,IAAvC,SACE,cAACQ,EAAA,EAAD,CAAYC,QAAQ,KAApB,SAA0BtE,EAAE,sB,YCZ9B4E,E,4MACJpF,YAAc,SAAAC,GAAK,MAAK,CACtBC,UAAW,CACTC,aAAc,CACZC,MAAO,CACLC,UAAW,Y,4CAMnB,WACE,MAAuBC,KAAKC,MAApBC,EAAR,EAAQA,EAAGC,EAAX,EAAWA,QAELC,EAAO2E,EAEPC,EAAOtE,IAAQC,SAGjBsE,EAAoB,OAATD,EAAgB,QAAU,UACrCE,EAA0B,OAATF,EAAgB,cAAgB,gBACjDG,EAAwB,OAATH,EAAgB,aAAe,eAE5C1E,EAAU,CACd,CACEC,KAAM,KACNK,MAAO,KACPJ,QAAS,CACPC,QAAQ,IAGZ,CACEF,KAduB,OAATyE,EAAgB,WAAa,aAe3CpE,MAAOV,EAAE,YACTM,QAAS,CACPC,QAAQ,IAGZ,CACEF,KAAM0E,EACNrE,MAAOV,EAAE,SACTM,QAAS,CACPC,QAAQ,IAGZ,CACEF,KAAM2E,EACNtE,MAAOV,EAAE,eACTM,QAAS,CACPC,QAAQ,IAGZ,CACEF,KAAM4E,EACNvE,MAAOV,EAAE,cACTM,QAAS,CACPC,QAAQ,EACRoB,aAAc,iBAAO,CAAEF,MAAO,CAAE8B,SAAU,YAG9C,CACElD,KAAM,iBACNK,MAAOV,EAAE,kBACTM,QAAS,CACPC,QAAQ,EACRI,qBAAsB,SAAAC,GACpB,IAAMsE,EAAShF,EAAKU,GAAWuE,eAE/B,OACE,qBAAKrE,UAAWb,EAAQc,cAAxB,SACGmE,EAAOlE,KAAI,SAACoE,EAAIlE,GAAL,OACV,cAACC,EAAA,EAAD,CAAqBC,MAAgB,OAAT0D,EAAgB3E,EAAciF,GAAI/E,KAAOF,EAAciF,GAAIC,OAAvF,SACE,cAAChE,EAAA,EAAD,CAAMX,MAAO0E,EAAgB9D,KAAK,QAAQE,MAAM,WAA1BN,IADVA,SAOtBS,aAAc,iBAAO,CAAEF,MAAO,CAAEG,SAAU,aAchD,OACE,cAAC,IAAD,CAAkBnC,MAAOK,KAAKN,cAA9B,SACE,cAAC,IAAD,CAAc4B,MAAOpB,EAAE,oBAAqBE,KAAMA,EAAME,QAASA,EAASE,QAX9D,CACdC,QAAQ,EACRsB,WAAY,WACZC,eAAgB,OAChBC,YAAa,GACbC,OAAO,EACPsD,aAAa,W,GAzFWrD,IAAMC,WAoGrBC,eA/GA,SAAA1C,GAAK,MAAK,CACvBsB,cAAe,CACbqB,QAAS,OACTC,eAAgB,OAChBC,SAAU,OACV,QAAS,CACPC,OAAQ,OAyGCJ,CAAmBK,cAAkBoC,I,sCC1HrC,SAASW,KAEpB,IAAQvF,EAAM0D,cAAN1D,EAuCR,MArCmB,CACfwF,WAAY,CACRC,KAAM,CACFC,QAAS1F,EAAE,oCACX2F,QAAS3F,EAAE,QACX4F,oBAAqB,SAAA3E,GAAM,yBAAgBA,EAAOP,SAEtDmF,WAAY,CACRC,KAAM,YACNC,SAAU,gBACVhE,YAAa,iBACbiE,YAAa,MAEjBC,QAAS,CACLC,OAAQ,SACRC,YAAa,eACbnE,MAAO,QACPoE,YAAa,eACbC,YAAa,gBAEjB9F,OAAQ,CACJ+F,IAAK,MACLlF,MAAO,UACPmF,MAAO,SAEXH,YAAa,CACThF,MAAO,eACPoF,UAAW,2BAEfC,aAAc,CACVC,KAAM,kBACNC,OAAQ,SACRC,WAAY,0BCxB1B,IAWIC,G,4MACJrH,YAAc,SAAAC,GAAK,MAAK,CACtBC,UAAW,CACTC,aAAc,CACZC,MAAO,CACLC,UAAW,Y,4CAMnB,WACE,MAAuBC,KAAKC,MAApBC,EAAR,EAAQA,EAAGC,EAAX,EAAWA,QAELC,EAAO4G,EACPC,EAAYC,GAEZlC,EAAOtE,IAAQC,SAEjBwG,EAAmB,OAATnC,EAAgB,OAAS,SACnCoC,EAAmB,OAATpC,EAAgB,OAAS,SACnCqC,EAAwB,OAATrC,EAAgB,YAAc,cAE3C1E,EAAU,CACd,CACEC,KAAM,KACNK,MAAO,KACPJ,QAAS,CACPC,QAAQ,IAGZ,CACEF,KAAM,WACNK,MAAOV,EAAE,YACTM,QAAS,CACPC,QAAQ,EACR6G,iBAAkB,SAAAC,GAChB,OAAO,8BAAe,OAATvC,EAAgBiC,EAAUM,GAAOhH,KAAO0G,EAAUM,GAAOhC,YAI5E,CACEhF,KAAM4G,EACNvG,MAAOV,EAAE,QACTM,QAAS,CACPC,QAAQ,IAGZ,CACEF,KAAM,MACNK,MAAOV,EAAE,4BACTM,QAAS,CACPC,QAAQ,EACRI,qBAAsB,SAAAC,GACpB,IACMC,EAAe,CAACb,EAAE,aAAc,MAAO,MAAO,MAAO,KAAM,MAEjE,OACE,qBAAKc,UAAWb,EAAQc,cAAxB,SAJc,CAAC,YAAa,MAAO,MAAO,MAAO,KAAM,MAK5CC,KAAI,SAACC,EAAQC,GAAT,OACX,cAACC,EAAA,EAAD,CAAqBC,MAAOP,EAAaK,GAAzC,SACE,cAACG,EAAA,EAAD,CACEX,MAAmC,OAA5BR,EAAKU,GAAWK,GAAmBf,EAAKU,GAAWK,GAAU,IAEpEK,KAAK,SADAJ,IAHKA,SAWtBS,aAAc,iBAAO,CAAEF,MAAO,CAAEG,SAAU,YAG9C,CACEvB,KAAM6G,EACNxG,MAAOV,EAAE,QACTM,QAAS,CACPC,QAAQ,IAGZ,CACEF,KAAM8G,EACNzG,MAAOV,EAAE,aACTM,QAAS,CACPC,QAAQ,KAKRD,EAAU,CACdC,QAAQ,EACRsB,WAAY,WACZC,eAAgB,OAChBC,YAAa,GACbC,OAAO,EACPwD,WAAY,CAACA,gBAGf,OACE,cAAC,IAAD,CAAkB/F,MAAOK,KAAKN,cAA9B,SACE,cAAC,IAAD,CAAc4B,MAAOpB,EAAE,mBAAoBE,KAAMA,EAAME,QAASA,EAASE,QAASA,U,GArG7D2B,IAAMC,WA2GpBC,gBAtHE,SAAA1C,GAAK,MAAK,CACzBsB,cAAe,CACbqB,QAAS,OACTC,eAAgB,OAChBC,SAAU,OACV,QAAS,CACPC,OAAQ,OAgHCJ,CAAmBK,cAAkBqE,KCnH9CpE,GAAYC,IAAW,CAC3BuD,QAAS,CACP7D,QAAS,OACTU,oBAAqB,gBACrBE,aAAc,SACdX,eAAgB,iBAElBM,KAAM,CACJP,QAAS,OACTkF,UAAW,sBACXzE,MAAO,QACPC,oBAAqB,MACrBC,WAAY,EACZC,aAAc,UACdX,eAAgB,SAChBY,YAAa,OACbC,aAAc,OACdC,WAAY,IAEd/B,MAAO,CACLmG,UAAW,QAEbnE,KAAM,CACJC,SAAU,EACVF,WAAY,MAIHqE,GAAQ,WACnB,IAAQxH,EAAM0D,cAAN1D,EAEFC,EAAUwC,KAEhB,EAAkCR,IAAMwF,SAAS,GAAjD,mBAAOC,EAAP,KAAkBC,EAAlB,KAMA,OACE,qBAAK7G,UAAU,MAAf,SACE,eAAC,IAAD,WACE,cAAC6C,EAAA,EAAD,CAAO7C,UAAWb,EAAQmD,KAAMwE,QAAM,EAAChE,UAAW,EAAlD,SACE,eAACiE,EAAA,EAAD,CAAMR,MAAOK,EAAWI,SARX,SAACC,EAA8BC,GAClDL,EAAaK,IAOyCC,eAAe,UAAUC,UAAU,UAAUC,UAAQ,EAArG,UACE,cAACC,EAAA,EAAD,CAAK1H,MAAOV,EAAE,qBAAsBqI,GAAE,UAAKC,eAAL,YAAuCC,UAAWC,MAExF,cAACJ,EAAA,EAAD,CAAK1H,MAAOV,EAAE,mBAAoBqI,GAAE,UAAKC,eAAL,mBAA8CC,UAAWC,MAC7F,cAACJ,EAAA,EAAD,CAAK1H,MAAOV,EAAE,kBAAmBqI,GAAE,UAAKC,eAAL,kBAA6CC,UAAWC,MAC3F,cAACJ,EAAA,EAAD,CAAK1H,MAAOV,EAAE,oBAAqBqI,GAAE,UAAKC,eAAL,oBAA+CC,UAAWC,WAKnG,qBAAK1H,UAAWb,EAAQ0C,KAAxB,SACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAO8F,OAAK,EAACC,KAAI,UAAKJ,eAAL,KAAgCC,UAAW9E,IAC5D,cAAC,IAAD,CAAOiF,KAAI,UAAKJ,eAAL,UAAqCC,UAAW9E,IAC3D,cAAC,IAAD,CAAOiF,KAAI,UAAKJ,eAAL,YAAuCC,UAAW9E,IAC7D,cAAC,IAAD,CAAOiF,KAAI,UAAKJ,eAAL,WAAsCC,UAAW7D,IAC5D,cAAC,IAAD,CAAOgE,KAAI,UAAKJ,eAAL,mBAA8CC,UAAW1B,KACpE,cAAC,IAAD,CAAO6B,KAAI,UAAKJ,eAAL,kBAA6CC,UAAWhJ,IACnE,cAAC,IAAD,CAAOmJ,KAAI,UAAKJ,eAAL,oBAA+CC,UAAW3D,IACrE,cAAC,IAAD,CAAO8D,KAAI,UAAKJ,eAAL,gBAA2CC,UAAW5D,e,oEC7EhEgE,GAAYC,aAAY,CACnCvI,KAAM,OACNwI,aAAc,CACZC,KAAM,EACNC,eAAgB,CAAC,KAAM,KAAM,KAAM,MACnCC,SAAU,CACRC,UAAW,KACXC,SAAU,MAEZC,aAAc,CACZC,SAAU,KACVC,aAAc,MAEhBC,OAAQ,CACNF,SAAU,KACVC,aAAc,MAEhBE,SAAU,CACRC,OAAQ,KACRC,SAAU,KACVC,iBAAkB,MAEpBC,SAAU,CACRC,YAAY,EACZC,eAAe,EACfC,YAAY,GAEdC,UAAW,CACT,CACEC,eAAgB,KAChBC,OAAQ,KACRC,MAAO,KACPC,gBAAiB,KACjBC,wBAAyB,MAE3B,CACEJ,eAAgB,KAChBC,OAAQ,KACRC,MAAO,KACPC,gBAAiB,KACjBC,wBAAyB,MAE3B,CACEJ,eAAgB,KAChBC,OAAQ,KACRC,MAAO,KACPC,gBAAiB,KACjBC,wBAAyB,QAI/BC,SAAU,CACRvE,KAAM,SAAAwE,GACJA,EAAMxB,MAAQ,GAEhB/C,SAAU,SAAAuE,GACRA,EAAMxB,MAAQ,GAEhBvC,MAAO,SAAA+D,GACLA,EAAMxB,KAAO,GAEfyB,QAAS,SAACD,EAAOE,GACfF,EAAMxB,KAAO0B,EAAOC,SAEtBC,WAAY,SAACJ,EAAOE,GAClBF,EAAMtB,SAASC,UAAYuB,EAAOC,QAClCH,EAAMtB,SAASE,SAAW,KAC1BoB,EAAMvB,eAAe,GAAK,MAE5B4B,YAAa,SAACL,EAAOE,GACA,MAAnBA,EAAOC,QAAoBH,EAAMtB,SAASE,SAAW,EAAMoB,EAAMtB,SAASE,SAAW,EACrFoB,EAAMvB,eAAe,GAAK,GAE5B6B,wBAAyB,SAACN,EAAOE,GAC/BF,EAAMnB,aAAaC,SAAWoB,EAAOC,QACrCH,EAAMnB,aAAaE,aAAe,KAClCiB,EAAMvB,eAAe,GAAK,MAE5B8B,qBAAsB,SAACP,EAAOE,GAC5BF,EAAMnB,aAAaE,aAAemB,EAAOC,QACzCH,EAAMvB,eAAe,GAAK,GAE5B+B,yBAA0B,SAACR,EAAOE,GAChCF,EAAMhB,OAAOF,SAAWoB,EAAOC,QAC/BH,EAAMhB,OAAOD,aAAe,KAC5BiB,EAAMvB,eAAe,GAAK,MAE5BgC,sBAAuB,SAACT,EAAOE,GAC7BF,EAAMhB,OAAOD,aAAemB,EAAOC,QACnCH,EAAMvB,eAAe,GAAK,GAE5BiC,YAAa,SAACV,EAAOE,GACnBF,EAAMf,SAASC,OAASgB,EAAOC,QACR,OAAnBD,EAAOC,UACTH,EAAMvB,eAAe,GAAK,MAEL,OAAnByB,EAAOC,SAAgD,OAA5BH,EAAMf,SAASE,WAC5Ca,EAAMvB,eAAe,GAAK,IAG9BkC,YAAa,SAACX,EAAOE,GACnBF,EAAMf,SAASE,SAAWe,EAAOC,QACV,OAAnBD,EAAOC,UACTH,EAAMvB,eAAe,GAAK,MAEL,OAAnByB,EAAOC,SAAgD,OAA5BH,EAAMf,SAASA,WAC5Ce,EAAMvB,eAAe,GAAK,IAG9BmC,oBAAqB,SAACZ,EAAOE,GAC3BF,EAAMf,SAASG,iBAAmBc,EAAOC,SAE3CU,sBAAuB,SAACb,EAAOE,GAC7BF,EAAMX,SAASC,WAAaY,EAAOC,SAErCW,eAAgB,SAAAd,GACdA,EAAMX,SAASC,YAAa,EAC5BU,EAAMX,SAASE,eAAgB,GAEjCwB,yBAA0B,SAACf,EAAOE,GAChCF,EAAMX,SAASE,cAAgBW,EAAOC,SAExCa,aAAc,SAAChB,EAAOE,GACpBA,EAAOC,QAAQc,SAAQ,SAACC,EAAWtK,GACjCoJ,EAAMP,UAAU7I,GAAO8I,eAAiBwB,EAAUxB,eAClDM,EAAMP,UAAU7I,GAAO+I,OAASuB,EAAUvB,OAC1CK,EAAMP,UAAU7I,GAAOgJ,MAAQsB,EAAUtB,MACzCI,EAAMP,UAAU7I,GAAOiJ,gBAAkBqB,EAAUrB,gBACnDG,EAAMP,UAAU7I,GAAOkJ,wBAA0BoB,EAAUpB,4BAG/DqB,sBAAuB,SAACnB,EAAOE,GAC7BF,EAAMX,SAASG,WAAaU,EAAOC,YAMlC,GAmBH9B,GAAU+C,QAlBZ5F,GADK,GACLA,KACAC,GAFK,GAELA,SACAQ,GAHK,GAGLA,MAEAmE,IALK,GAILH,QAJK,GAKLG,YACAC,GANK,GAMLA,YACAC,GAPK,GAOLA,wBACAC,GARK,GAQLA,qBACAC,GATK,GASLA,yBACAC,GAVK,GAULA,sBACAC,GAXK,GAWLA,YACAC,GAZK,GAYLA,YACAC,GAbK,GAaLA,oBAEAC,IAfK,GAcLC,eAdK,GAeLD,uBACAE,GAhBK,GAgBLA,yBACAC,GAjBK,GAiBLA,aACAG,GAlBK,GAkBLA,sBAGa9C,MAAf,QCrJe,SAASgD,KACtB,IAAM3C,EAAW4C,cAAY,SAAAtB,GAAK,OAAIA,EAAMuB,KAAK7C,YAC3C8C,EAAWC,eACXC,EAAY,GAClBC,GAAcjL,KAAI,SAAAkL,GAChB,OAAOF,EAAUG,KAAKD,EAAQ7L,SAGhC,IAAQL,EAAM0D,cAAN1D,EACF8E,EAAOtE,IAAQC,SAEf2L,EAAS,CAAEC,GAAI,IAAMnD,SAAU,OASrC,OAP2B,OAAvBF,EAASC,WACX6C,EAASpB,GAAW,IAEI,OAAtB1B,EAASE,UACX4C,EAASnB,GAAY,IAIrB,eAAC7G,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,WAAW,SAASC,QAAS,EAA7D,UACE,cAACJ,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,GAAf,SACE,cAACC,EAAA,EAAD,CAAYC,QAAQ,KAApB,SAA0BtE,EAAE,6BAE9B,cAAC8D,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,cAACC,EAAA,EAAD,UAAarE,EAAE,0BAEjB,cAAC8D,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,cAACkI,GAAA,EAAD,CACED,GAAG,UACH/L,QAAS2L,GACTM,eAAgB,SAAAC,GAAM,OAAKA,EAAOnM,KAAiB,OAATyE,EAAgB0H,EAAOnM,KAAOmM,EAAOnH,OAAU,MACzFoH,kBAAmB,SAACD,EAAQnF,GAAT,OAAmBmF,EAAOnM,OAASgH,EAAMhH,MAC5DyH,SAAU,SAACC,EAAOC,GAAR,OAAqB8D,EAASpB,GAAW1C,EAASqE,MAC5DK,kBAAgB,EAChBrF,MAA8B,OAAvB2B,EAASC,UAAqBgD,GAAcjD,EAASC,WAAa,KACzE0D,YAAa,SAAAC,GAAM,OAAI,cAACC,GAAA,EAAD,6BAAeD,GAAf,IAAuBtI,QAAQ,mBAG1D,cAACR,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAG3C,MAAO,CAAE8F,UAAW,UAAtC,SACE,cAACpG,EAAA,EAAD,CAASC,MAAOpB,EAAE,+BAAlB,SACE,cAACqB,EAAA,EAAD,CAAMX,MAAM,IAAIY,KAAK,cAGzB,cAACwC,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,cAACC,EAAA,EAAD,UAAarE,EAAE,2BAEjB,cAAC8D,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,cAACkI,GAAA,EAAD,CACED,GAAG,WACH/L,QAAS,CAAC2L,GAAcjD,EAASC,WAAYmD,GAC7CG,eAAgB,SAAAC,GAAM,OAAIA,EAAOtD,UACjCuD,kBAAmB,SAACD,EAAQnF,GAAT,OAAmBmF,EAAOtD,WAAa7B,EAAM6B,UAChEpB,SAAU,SAACC,EAAOC,GAAR,OAAqB8D,EAASnB,GAAY3C,EAASqE,MAC7DK,kBAAgB,EAChBrF,MACwB,OAAtB2B,EAASE,SAA2C,IAAtBF,EAASE,SAAiBkD,EAASH,GAAcjD,EAASC,WAAc,KAExG6D,SAAiC,OAAvB9D,EAASC,UACnB0D,YAAa,SAAAC,GAAM,OAAI,cAACC,GAAA,EAAD,6BAAeD,GAAf,IAAuBtI,QAAQ,mBAG1D,cAACR,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAG3C,MAAO,CAAE8F,UAAW,UAAtC,SACE,cAACpG,EAAA,EAAD,CAASC,MAAOpB,EAAE,gCAAlB,SACE,cAACqB,EAAA,EAAD,CAAMX,MAAM,IAAIY,KAAK,cAGF,OAAtB0H,EAASE,SACR,qCACE,cAACpF,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,cAACC,EAAA,EAAD,UAAarE,EAAE,iBAEjB,cAAC8D,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,cAACC,EAAA,EAAD,UACyB,IAAtB2E,EAASE,SACN6D,KAAKC,MAAmD,IAA7Cf,GAAcjD,EAASC,WAAWgE,UAAkB,IAAM,IAAMb,EAAOlD,SAClF6D,KAAKC,MACHf,GAAcjD,EAASC,WAAWgE,SAAWhB,GAAcjD,EAASC,WAAWiE,cAAgB,KAE/F,IACF,IACAjB,GAAcjD,EAASC,WAAWC,aAG1C,cAACpF,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,cAACC,EAAA,EAAD,UAAarE,EAAE,wBAEjB,cAAC8D,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,cAACC,EAAA,EAAD,UACyB,IAAtB2E,EAASE,SACN6D,KAAKC,MAA0D,IAApDf,GAAcjD,EAASC,WAAWkE,iBAAyB,IAAM,IAAMf,EAAOlD,SACzF6D,KAAKC,MACHf,GAAcjD,EAASC,WAAWkE,gBAChClB,GAAcjD,EAASC,WAAWiE,cAClC,KAEF,IACF,IACAjB,GAAcjD,EAASC,WAAWC,aAG1C,cAACpF,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,cAACC,EAAA,EAAD,UAAarE,EAAE,qBAEjB,cAAC8D,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,cAACC,EAAA,EAAD,UACyB,IAAtB2E,EAASE,SACN6D,KAAKC,MAAuD,IAAjDf,GAAcjD,EAASC,WAAWmE,cAAsB,IAAM,IAAMhB,EAAOlD,SACtF6D,KAAKC,MACHf,GAAcjD,EAASC,WAAWmE,aAChCnB,GAAcjD,EAASC,WAAWiE,cAClC,KAEF,IACF,IACAjB,GAAcjD,EAASC,WAAWC,aAG1C,cAACpF,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,cAACC,EAAA,EAAD,UAAarE,EAAE,qBAEjB,cAAC8D,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,cAACC,EAAA,EAAD,UAA8D,IAAjD4H,GAAcjD,EAASC,WAAWoE,aAAqB,WAIxE,2B,2CCrIKC,GAAM,SAAAvN,GAAU,IAAD,MACpBN,EAAQ8N,eACNvN,EAAM0D,cAAN1D,EAEJwN,EAAc/N,EAAMgO,QAAQC,QAAQ/K,KAGtC6K,EADEG,OAAO5N,EAAM6N,OAASD,OAAO5N,EAAM8N,QACvBpO,EAAMgO,QAAQK,MAAMnL,KAEpBlD,EAAMgO,QAAQM,QAAQpL,KAGtC,IAgCIqL,EAhCEC,GAAO,GACX5N,KAAML,EAAE,eADG,eAEVD,EAAMmO,OAASnO,EAAMkO,SAFX,uBAGJxO,EAAMgO,QAAQjD,OAAOsC,UAHjB,GAMPc,GAAK,GACTvN,KAAML,EAAE,UADC,eAERD,EAAMmO,OAASnO,EAAM6N,OAFb,uBAGFnO,EAAMgO,QAAQC,QAAQ/K,MAHpB,GAMLkL,GAAM,GACVxN,KAAML,EAAE,WADE,eAETD,EAAMmO,OAASnO,EAAM8N,QAFZ,uBAGHL,GAHG,GAMRtN,EAAO,GAgCX,OA9BIH,EAAM6N,OACR1N,EAAKiM,KAAKyB,GAGR7N,EAAM8N,QACR3N,EAAKiM,KAAK0B,GAGR9N,EAAMkO,QAAUlO,EAAM6N,OACxB1N,EAAKiM,KAAK8B,GAMVD,EADmB,cAAjBjO,EAAMmO,OACClO,EAAE,aAAe,KAAOD,EAAMoO,KAAO,IAErCpO,EAAMmO,OAAOE,cAAgB,KAAOrO,EAAMoO,KAAO,IAc1D,qBAAK1M,MAAO,CAAEmB,OAAQ,IAAKC,MAAO,KAAlC,SACE,cAAC,KAAD,CACE3C,KAAMA,EACNmO,QAAQ,OACRC,KAAM,CAACvO,EAAMmO,QACb3L,OAAQ,CAAEgM,IAAK,GAAIC,MAAO,EAAGC,OAAQ,GAAIC,KAAM,GAC/C7K,QAAS,GACT8K,WAAY,CAAEC,KAAM,UACpBC,WAAY,CAAED,KAAM,OAAQ5B,OAAO,GACnC8B,OAAQ,SAAAC,GAAC,OAAIA,EAAE7O,KAAKsB,OACpBwN,QAAQ,KACRC,QAAS,KACTC,UAAW,KACXC,WAAY,CACVC,SAAU,EACVC,YAAa,EACbC,aAAc,EACdtB,OAAQA,EACRuB,eAAgB,SAChBC,aAAc,IAEhBC,gBAAiB,GACjB/O,MAAO,SAAAqO,GAAC,OAjCd,SAAkBA,GAChB,MAAqB,OAAjBhP,EAAMmO,QAAoC,OAAjBnO,EAAMmO,OAC1BP,OAAOoB,EAAE1H,OACbqI,gBACAC,eAAe,SAEXhC,OAAOoB,EAAE1H,OAAOsI,eAAe,SA2BxBC,CAASb,IACrBc,aAAa,EACbC,SAAS,EACTC,gBAAiB,IACjBC,cAAe,GACfC,QAAS,gBAAG5D,EAAH,EAAGA,GAAIhF,EAAP,EAAOA,MAAP,OACP,eAAC1D,EAAA,EAAD,CACElC,MAAO,CACLoC,QAAS,GACTqM,WAAY,QAHhB,UAMG7D,EAAG+B,cAAgB,IANtB,IAM2B,uBAN3B,IAMmCT,OAAOtG,GAAOsI,eAAe,SAAW,KAAO5P,EAAMoO,KAAO,aCvF1F,SAASgC,KACtB,IAAMhH,EAAeyC,cAAY,SAAAtB,GAAK,OAAIA,EAAMuB,KAAK1C,gBAC/C2C,EAAWC,eAEXtM,EAAQ8N,eAENvN,EAAM0D,cAAN1D,EACF8E,EAAOtE,IAAQC,SAMrB,OAJ8B,OAA1B0I,EAAaC,UACf0C,EAASlB,GAAwB,KAIjC,eAAC9G,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,WAAW,SAASC,QAAS,EAA7D,UACE,cAACJ,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,GAAf,SACE,cAACC,EAAA,EAAD,CAAYC,QAAQ,KAApB,SAA0BtE,EAAE,qBAE9B,cAAC8D,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,cAACC,EAAA,EAAD,UAAarE,EAAE,2BAEjB,cAAC8D,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,cAACkI,GAAA,EAAD,CACED,GAAG,WACH/L,QAAS0G,GAAuBzG,QAAO,SAAA6I,GAAQ,OAAuB,IAAnBA,EAASwE,SAC5DrB,eAAgB,SAAAC,GAAM,OAAKA,EAAOnM,KAAiB,OAATyE,EAAgB0H,EAAOnM,KAAOmM,EAAOnH,OAAU,MACzFoH,kBAAmB,SAACD,EAAQnF,GAAT,OAAmBmF,EAAOnM,OAASgH,EAAMhH,MAC5DyH,SAAU,SAACC,EAAOC,GAAR,OAAqB8D,EAASlB,GAAwB5C,EAASqE,MACzEK,kBAAgB,EAChBrF,MAAiC,OAA1B8B,EAAaC,SAAoBpC,GAAuBmC,EAAaC,UAAY,KACxFuD,YAAa,SAAAC,GAAM,OAAI,cAACC,GAAA,EAAD,6BAAeD,GAAf,IAAuBtI,QAAQ,mBAG1D,cAACR,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAG3C,MAAO,CAAE8F,UAAW,UAAtC,SACE,cAACpG,EAAA,EAAD,CAASC,MAAM,+BAAf,SACE,cAACC,EAAA,EAAD,CAAMX,MAAM,IAAIY,KAAK,cAGzB,cAACwC,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,cAACC,EAAA,EAAD,UAAarE,EAAE,2BAEjB,cAAC8D,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,cAACkI,GAAA,EAAD,CACED,GAAG,UACH/L,QAASwG,EAAevG,QAAO,SAAA6P,GAAC,OAAIA,EAAEhH,WAAaD,EAAaC,YAChEmD,eAAgB,SAAAC,GAAM,OAAKA,EAAOnM,KAAiB,OAATyE,EAAgB0H,EAAOnM,KAAOmM,EAAOnH,OAAU,MACzFoH,kBAAmB,SAACD,EAAQnF,GAAT,OAAmBmF,EAAOnM,OAASgH,EAAMhH,MAC5DyH,SAAU,SAACC,EAAOC,GAAR,OAAqB8D,EAASjB,GAAqB7C,EAASqE,MACtEK,kBAAgB,EAChBrF,MAAqC,OAA9B8B,EAAaE,aAAwBvC,EAAeqC,EAAaE,cAAgB,KACxFsD,YAAa,SAAAC,GAAM,OAAI,cAACC,GAAA,EAAD,6BAAeD,GAAf,IAAuBtI,QAAQ,eACtDwI,SAAoC,OAA1B3D,EAAaC,aAG3B,cAACtF,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAG3C,MAAO,CAAE8F,UAAW,UAAtC,SACE,cAACpG,EAAA,EAAD,CAASC,MAAM,0CAAf,SACE,cAACC,EAAA,EAAD,CAAMX,MAAM,IAAIY,KAAK,cAIzB,cAACwC,EAAA,EAAD,CAAMK,MAAI,EAACJ,WAAS,EAACK,GAAI,GAAI/B,eAAe,eAAe4B,WAAW,SAAtE,SACiC,OAA9BkF,EAAaE,aACVgH,GAAoBrP,KAAI,SAACsP,EAAGpP,GAC1B,IAAMqP,EAAMD,EAAEjQ,KAEd,OACE,qBAAiBoB,MAAO,CAAEoB,MAAO,gBAAjC,SACE,cAAC,GAAD,CACEqL,OAAQoC,EAAEjQ,KACV8N,KAAMmC,EAAEnC,KACRP,MACgC,OAA9BzE,EAAaE,cAETvC,EAAeqC,EAAaE,cAAckH,GAAO,EADjD,KAGAzJ,EAAeqC,EAAaE,cAAckH,GAEhDtC,QAASnH,EAAe,GAAGyJ,MAXrBrP,MAgBdmP,GAAoBrP,KAAI,SAACsP,EAAGpP,GAC1B,OACE,qBAAiBO,MAAO,CAAEoB,MAAO,gBAAjC,SACE,cAAC,GAAD,CAAKqL,OAAQoC,EAAEjQ,KAAM8N,KAAMmC,EAAEnC,QADrBjN,QAOpB,eAAC4C,EAAA,EAAD,CAAMK,MAAI,EAACJ,WAAS,EAACK,GAAI,GAAI/B,eAAe,eAAe4B,WAAW,aAAtE,UACE,eAACH,EAAA,EAAD,CAAMK,MAAI,EAACJ,WAAS,EAACK,GAAI,EAAGJ,UAAU,SAASC,WAAW,SAAS5B,eAAe,aAAlF,UACE,cAACyB,EAAA,EAAD,CAAMK,MAAI,EAAV,SACE,qBAAKqM,MAAM,6BAA6B3N,MAAM,KAAKD,OAAO,KAA1D,SACE,4BACE,sBAAMC,MAAM,KAAKD,OAAO,KAAK6N,KAAMhR,EAAMgO,QAAQC,QAAQ/K,aAI/D,cAACmB,EAAA,EAAD,CAAMK,MAAI,EAAV,SACE,cAACE,EAAA,EAAD,CAAYC,QAAQ,UAApB,SAA+BtE,EAAE,gBAIrC,eAAC8D,EAAA,EAAD,CAAMK,MAAI,EAACJ,WAAS,EAACK,GAAI,EAAGJ,UAAU,SAASC,WAAW,SAAS5B,eAAe,aAAlF,UACE,cAACyB,EAAA,EAAD,CAAMK,MAAI,EAAV,SACE,qBAAKqM,MAAM,6BAA6B3N,MAAM,KAAKD,OAAO,KAA1D,SACE,4BACE,sBAAMC,MAAM,KAAKD,OAAO,KAAK6N,KAAMhR,EAAMgO,QAAQjD,OAAOsC,iBAI9D,cAAChJ,EAAA,EAAD,CAAMK,MAAI,EAAV,SACE,cAACE,EAAA,EAAD,CAAYC,QAAQ,UAApB,SAA+BtE,EAAE,8B,eC7G7C,IAAMyC,GAAYC,KAAW,SAAAjD,GAAK,MAAK,CACrCG,MAAO,CACL8Q,gBAAiBjR,EAAMgO,QAAQyC,WAAWS,QAC1C9M,QAAS,QAIE,SAAS+M,KACtB,IAAM3Q,EAAUwC,KAEVoO,EAAYjF,cAAY,SAAAtB,GAAK,OAAIA,EAAMuB,QAEvCC,EAAWC,eAET/L,EAAM0D,cAAN1D,EACF8E,EAAOtE,IAAQC,SAEfuI,EAAW6H,EAAU7H,SACrBG,EAAerC,EAAe+J,EAAU1H,aAAaE,cACrDyH,EAAgBhK,EAAe+J,EAAUvH,OAAOD,cAChDG,EAASqH,EAAUtH,SAASC,OAC5BM,EAAa+G,EAAUlH,SAASG,YCrCzB,SAA4BiH,EAAMnD,EAAOoD,EAAQxH,EAAQyH,GACtE,IAAMnF,EAAWC,eAIXmF,EAAc,CAClB,oBACA,oBACA,sBACA,qBACA,YAGEC,EAAmB,GAVA,CAAC,YAAa,MAAO,MAAO,MAAO,KAAM,MAYjD5F,SAAQ,SAAA6F,GAChBzD,OAAOC,EAAMwD,IAAkBzD,OAAOqD,EAAOI,KAAuD,IAAnCzD,OAAOqD,EAAOI,MAElFtF,EAASX,IAAsB,IAC/BgG,EAAiBhF,KAAKiF,OAI1B,IAwG2BC,EAxGrBC,EAAqB,CACzB,cACA,kBACA,+BACA,kCACA,aACA,uBACA,wBACA,eACA,kBACA,kBACA,yBACA,oBACA,oBACA,SAsGIC,GAZqBF,EAvF3B,SAAgCzD,EAAOtE,EAAQkI,GAC7C,IAAIH,EAAkB,GAmFtB,OAjFAxM,EAAgB0G,SAAQ,SAACvB,EAAgB9I,GACvC,IAAIuQ,GAAyB,EACzBC,EAAyB,GACzBC,EAAsB,GACtB1H,EAAS,EAEbuH,EAAiBjG,SAAQ,SAACqG,EAAiB1Q,GACzC,IAAI2Q,EAAoBlE,OAAOC,EAAMgE,IAErC5H,EAAe7E,eAAeoG,SAAQ,SAAAuG,GACpCD,GACuBA,EAAoBlE,OAAOxN,EAAc2R,GAAaF,IAAqB,OAGpGF,EAAuBE,GAAmBC,EAEtCH,EAAuBE,GAAmBjE,OAAOrE,EAAOsI,MAC1DH,GAAyB,MAI7BP,EAAY3F,SAAQ,SAAAwG,GAClBJ,EAAoBI,GAAc,KAGpC,IAAI5H,EAAkB,EAEtBH,EAAe7E,eAAeoG,SAAQ,SAAAuG,GACpCR,EAAmB/F,SAAQ,SAAAyG,GACzB/H,GAAkB0D,OAAOxN,EAAc2R,GAAaE,OAGvC,OAAXxI,GACF0H,EAAY3F,SAAQ,SAAAwG,GAClB,IAAIE,EAAiB,EACrBA,GAEEtE,OAAOxN,EAAc2R,GAAaC,EAAa,OAA/C,SACEpE,OAAOnE,GAAWmE,OAAOxN,EAAc2R,GAAaC,EAAa,QAErEJ,EAAoBI,GAAcJ,EAAoBI,GAAcE,EAEjD,sBAAfF,IACF5H,GAAqC,KAAjB8H,EAAwB,KAAQ9R,EAAc2R,GAAd,mBAMxDL,GACFJ,EAAgBlF,KAAK,CACnBE,GAAInL,EACJ8I,eAAgBA,EAAeqC,GAC/B6F,oBAAqBlI,EAAe5I,MACpC+Q,UAAWT,EAAsB,UACjCU,IAAKV,EAAsB,IAC3BW,IAAKX,EAAsB,IAC3BY,IAAKZ,EAAsB,IAC3Ba,GAAIb,EAAsB,GAC1Bc,GAAId,EAAsB,GAC1Be,iBAAkBd,EAAmB,kBACrCe,iBAAkBf,EAAmB,kBACrCgB,mBAAoBhB,EAAmB,oBACvCiB,kBAAmBjB,EAAmB,mBACtCkB,QAASlB,EAAmB,SAE5BzH,MAAkD,KAA3CyH,EAAmB,kBAA+B,KACzDxH,gBAAiBA,EACjBC,wBAAyBD,EAAkBX,EAE3CS,OAAQA,EAASD,EAAe7E,eAAe2N,OAASxB,EAAmBwB,YAKlD,IAA3BzB,EAAgByB,OAClBhH,EAAST,IAAyB,IAElCS,EAAST,IAAyB,IAG7BgG,EAeoC0B,CAAuBnF,EAAOoD,EAAQG,GAT7EF,EACmBI,EAAgB2B,MAAK,SAACC,EAAGC,GAAJ,OAAUD,EAAE9I,gBAAkB+I,EAAE/I,mBAAiBgJ,MAAM,EAAG,GAE/E9B,EAAgB2B,MAAK,SAACC,EAAGC,GAAJ,OAAUA,EAAEjJ,OAASgJ,EAAEhJ,UAAQkJ,MAAM,EAAG,IAQtFrH,EAASR,GAAaiG,IDtGtB6B,CAAmBpK,EAAUG,EAAc2H,EAAetH,EAAQM,GAMlE,OACE,cAACnG,EAAA,EAAD,CAAO7C,UAAWb,EAAQL,MAAOgE,UAAW,EAA5C,SACE,eAACE,EAAA,EAAD,CAAMC,WAAS,EAACG,QAAS,EAAzB,UACE,eAACJ,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,GAAf,UACE,cAACC,EAAA,EAAD,CAAYC,QAAQ,KAApB,SAA0BtE,EAAE,eAC5B,cAACqE,EAAA,EAAD,CAAYC,QAAQ,UAApB,SACGuM,EAAUlH,SAASC,WAChB5J,EACE,6GAEF6Q,EAAUlH,SAASE,cACnB7J,EAAE,oDACFA,EAAE,2FAIR6Q,EAAUlH,SAASC,YAAciH,EAAUlH,SAASE,cACpD,eAAC/F,EAAA,EAAD,CAAMK,MAAI,EAACJ,WAAS,EAACK,GAAI,GAAIF,QAAS,EAAGD,WAAW,SAApD,UAEoC,IAAjC4M,EAAU9G,UAAU,GAAGG,MACxB,eAACpG,EAAA,EAAD,CAAMK,MAAI,EAACJ,WAAS,EAACE,WAAW,SAASC,QAAS,EAAGE,GAAI,GAAI/B,eAAe,gBAA5E,UACE,cAACyB,EAAA,EAAD,CAAMK,MAAI,EAAV,SACE,cAACE,EAAA,EAAD,UAAarE,EAAE,oBAEjB,cAAC8D,EAAA,EAAD,CAAMK,MAAI,EAAV,SACE,cAACkP,GAAA,EAAD,CAAQ7R,MAAM,UAAU8R,QAASxJ,EAAYhC,SAAU,SAAAC,GA5BnE+D,EAASL,IAAuB3B,YA8Bd,KAET+G,EAAU9G,UAAU/I,KAAI,SAAC2I,EAAUzI,GAAX,OACvB,qCACE,eAAC4C,EAAA,EAAD,CAAMK,MAAI,EAACJ,WAAS,EAAC1B,eAAe,aAAa6B,QAAS,EAAGE,GAAI,GAAjE,UACE,cAACN,EAAA,EAAD,CAAMK,MAAI,EAAV,SACE,cAAC9C,EAAA,EAAD,CAAMX,MAAOQ,EAAQ,EAAGM,MAAM,YAAYF,KAAK,YAEjD,cAACwC,EAAA,EAAD,CAAMK,MAAI,EAAV,SACE,cAACE,EAAA,EAAD,UACY,OAATS,EACGD,EAAgB8E,EAASK,gBAAgBZ,SACzCvE,EAAgB8E,EAASK,gBAAgBuJ,kBAInD,cAACzP,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,eAACC,EAAA,EAAD,WAAarE,EAAE,cAAf,SAEF,cAAC8D,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,cAACC,EAAA,EAAD,UAAaQ,EAAgB8E,EAASK,gBAAgB5I,UAExD,cAAC0C,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,eAACC,EAAA,EAAD,WAAarE,EAAE,UAAf,SAEF,cAAC8D,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,cAACC,EAAA,EAAD,UAAa0I,KAAKC,MAA0B,GAAlBrD,EAASM,OAAe,EAAK,KAAQ,QAE/DuJ,MAAM7J,EAASS,yBAsBf,wBArBA,qCACE,cAACtG,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,eAACC,EAAA,EAAD,WAAarE,EAAE,+BAAf,SAEF,cAAC8D,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,cAACC,EAAA,EAAD,UACyB,IAAtB2E,EAASE,SACR,qCAAG6D,KAAKC,MAAyC,IAAnCrD,EAASS,yBAAgCuF,eAAe,SAAtE,cAEA,sCAEI1D,GAAcjD,EAASC,WAAWiE,cAClCH,KAAKC,MAAyC,IAAnCrD,EAASS,0BACpBuF,eAAe,SAAU,IAC1B1D,GAAcjD,EAASC,WAAWC,SALrC,mBAcV,cAACpF,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,eAACC,EAAA,EAAD,WAAarE,EAAE,kBAAf,SAEF,cAAC8D,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACGS,EAAgB8E,EAASK,gBAAgB7E,eAAenE,KAAI,SAACoE,EAAIlE,GAAL,OAC3D,cAACC,EAAA,EAAD,CAAqBC,MAAgB,OAAT0D,EAAgB3E,EAAciF,GAAI/E,KAAOF,EAAciF,GAAIC,OAAvF,SACE,cAAChE,EAAA,EAAD,CAAMX,MAAO0E,EAAgB9D,KAAK,QAAQE,MAAM,UAAUC,MAAO,CAAEc,OAAQ,IAArDrB,IADVA,iBASxB,6BE9HK,SAASuS,KACtB,IAAMnK,EAASsC,cAAY,SAAAtB,GAAK,OAAIA,EAAMuB,KAAKvC,UACzCH,EAAeyC,cAAY,SAAAtB,GAAK,OAAIA,EAAMuB,KAAK1C,gBAE/C2C,EAAWC,eAEXtM,EAAQ8N,eAENvN,EAAM0D,cAAN1D,EACF8E,EAAOtE,IAAQC,SAMrB,OAJwB,OAApB6I,EAAOF,UACT0C,EAAShB,GAAyB,KAIlC,eAAChH,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,WAAW,aAAaC,QAAS,EAAjE,UACE,eAACJ,EAAA,EAAD,CAAMK,MAAI,EAACJ,WAAS,EAACK,GAA4B,OAAxBkF,EAAOD,aAAwB,EAAI,GAAIrF,UAAU,MAAMC,WAAW,SAASC,QAAS,EAA7G,UACE,cAACJ,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,GAAf,SACE,cAACC,EAAA,EAAD,CAAYC,QAAQ,KAApB,SAA0BtE,EAAE,eAE9B,cAAC8D,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,cAACC,EAAA,EAAD,UAAarE,EAAE,2BAEjB,cAAC8D,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,cAACkI,GAAA,EAAD,CACED,GAAG,WACH/L,QAAS0G,GAAuBzG,QAAO,SAAA6I,GAAQ,OAAuB,IAAnBA,EAASwE,SAC5DrB,eAAgB,SAAAC,GAAM,OAAKA,EAAOnM,KAAiB,OAATyE,EAAgB0H,EAAOnM,KAAOmM,EAAOnH,OAAU,IACzFoH,kBAAmB,SAACD,EAAQnF,GAAT,OAAmBmF,EAAOnM,OAASgH,EAAMhH,MAC5DyH,SAAU,SAACC,EAAOC,GAAR,OAAqB8D,EAAShB,GAAyB9C,EAASqE,MAC1EK,kBAAgB,EAChBrF,MAA2B,OAApBiC,EAAOF,SAAoBpC,GAAuBsC,EAAOF,UAAY,KAC5EuD,YAAa,SAAAC,GAAM,OAAI,cAACC,GAAA,EAAD,6BAAeD,GAAf,IAAuBtI,QAAQ,mBAG1D,cAACR,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAG3C,MAAO,CAAE8F,UAAW,UAAtC,SACE,cAACpG,EAAA,EAAD,CAASC,MAAM,+BAAf,SACE,cAACC,EAAA,EAAD,CAAMX,MAAM,IAAIY,KAAK,cAGzB,cAACwC,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,cAACC,EAAA,EAAD,UAAarE,EAAE,2BAEjB,cAAC8D,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,cAACkI,GAAA,EAAD,CACED,GAAG,UACH/L,QAASwG,EAAevG,QAAO,SAAA6P,GAAC,OAAIA,EAAEhH,WAAaE,EAAOF,YAC1DmD,eAAgB,SAAAC,GAAM,OAAKA,EAAOnM,KAAiB,OAATyE,EAAgB0H,EAAOnM,KAAOmM,EAAOnH,OAAU,IACzFoH,kBAAmB,SAACD,EAAQnF,GAAT,OAAmBmF,EAAOnM,OAASgH,EAAMhH,MAC5DyH,SAAU,SAACC,EAAOC,GAAR,OAAqB8D,EAASf,GAAsB/C,EAASqE,MACvEK,kBAAgB,EAChBrF,MAA+B,OAAxBiC,EAAOD,aAAwBvC,EAAewC,EAAOD,cAAgB,KAC5EsD,YAAa,SAAAC,GAAM,OAAI,cAACC,GAAA,EAAD,6BAAeD,GAAf,IAAuBtI,QAAQ,eACtDwI,SAA8B,OAApBxD,EAAOF,aAGrB,cAACtF,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAG3C,MAAO,CAAE8F,UAAW,UAAtC,SACE,cAACpG,EAAA,EAAD,CAASC,MAAM,0CAAf,SACE,cAACC,EAAA,EAAD,CAAMX,MAAM,IAAIY,KAAK,cAIzB,cAACwC,EAAA,EAAD,CAAMK,MAAI,EAACJ,WAAS,EAACK,GAAI,GAAI/B,eAAe,eAAe4B,WAAW,SAAtE,SAC2B,OAAxBqF,EAAOD,aACJgH,GAAoBrP,KAAI,SAACsP,EAAGpP,GAC1B,IAAMqP,EAAMD,EAAEjQ,KAEd,OACE,qBAAiBoB,MAAO,CAAEoB,MAAO,gBAAjC,SACE,cAAC,GAAD,CACEqL,OAAQoC,EAAEjQ,KACV8N,KAAMmC,EAAEnC,KACRP,MACE9G,EAAeqC,EAAaE,cAAckH,GAAO,EAC7C,KACAzJ,EAAeqC,EAAaE,cAAckH,GAEhD1C,OACE/G,EAAewC,EAAOD,cAAckH,GAAO,EAAI,KAAOzJ,EAAewC,EAAOD,cAAckH,MAVtFrP,MAgBdmP,GAAoBrP,KAAI,SAACsP,EAAGpP,GAC1B,IAAMqP,EAAMD,EAAEjQ,KAEd,OACE,qBAAiBoB,MAAO,CAAEoB,MAAO,gBAAjC,SACE,cAAC,GAAD,CACEqL,OAAQoC,EAAEjQ,KACV8N,KAAMmC,EAAEnC,KACRP,MACE9G,EAAeqC,EAAaE,cAAckH,GAAO,EAC7C,KACAzJ,EAAeqC,EAAaE,cAAckH,MAP1CrP,QAepB,eAAC4C,EAAA,EAAD,CAAMK,MAAI,EAACJ,WAAS,EAACK,GAAI,GAAI/B,eAAe,eAAe4B,WAAW,aAAtE,UACE,eAACH,EAAA,EAAD,CAAMK,MAAI,EAACJ,WAAS,EAACK,GAAI,EAAGJ,UAAU,SAASC,WAAW,SAAS5B,eAAe,aAAlF,UACE,cAACyB,EAAA,EAAD,CAAMK,MAAI,EAAV,SACE,qBAAKqM,MAAM,6BAA6B3N,MAAM,KAAKD,OAAO,KAA1D,SACE,4BACE,sBAAMC,MAAM,KAAKD,OAAO,KAAK6N,KAAMhR,EAAMgO,QAAQC,QAAQ/K,aAI/D,cAACmB,EAAA,EAAD,CAAMK,MAAI,EAAV,SACE,cAACE,EAAA,EAAD,CAAYC,QAAQ,UAApB,SAA+BtE,EAAE,gBAIrC,eAAC8D,EAAA,EAAD,CAAMK,MAAI,EAACJ,WAAS,EAACK,GAAI,EAAGJ,UAAU,SAASC,WAAW,SAAS5B,eAAe,aAAlF,UACE,cAACyB,EAAA,EAAD,CAAMK,MAAI,EAAV,SACE,qBAAKqM,MAAM,6BAA6B3N,MAAM,KAAKD,OAAO,KAA1D,SACE,4BACE,sBAAMC,MAAM,KAAKD,OAAO,KAAK6N,KAAMhR,EAAMgO,QAAQK,MAAMnL,aAI7D,cAACmB,EAAA,EAAD,CAAMK,MAAI,EAAV,SACE,cAACE,EAAA,EAAD,CAAYC,QAAQ,UAApB,SAA+BtE,EAAE,mCAIrC,eAAC8D,EAAA,EAAD,CAAMK,MAAI,EAACJ,WAAS,EAACK,GAAI,EAAGJ,UAAU,SAASC,WAAW,SAAS5B,eAAe,aAAlF,UACE,cAACyB,EAAA,EAAD,CAAMK,MAAI,EAAV,SACE,qBAAKqM,MAAM,6BAA6B3N,MAAM,KAAKD,OAAO,KAA1D,SACE,4BACE,sBAAMC,MAAM,KAAKD,OAAO,KAAK6N,KAAMhR,EAAMgO,QAAQM,QAAQpL,aAI/D,cAACmB,EAAA,EAAD,CAAMK,MAAI,EAAV,SACE,cAACE,EAAA,EAAD,CAAYC,QAAQ,UAApB,SAA+BtE,EAAE,6CAKhB,OAAxBsJ,EAAOD,aACN,cAACvF,EAAA,EAAD,CAAMK,MAAI,EAACJ,WAAS,EAACK,GAAI,EAAzB,SACE,cAACwM,GAAD,MAGF,2B,eC5JO,SAAS8C,KACtB,IAAMnK,EAAWqC,cAAY,SAAAtB,GAAK,OAAIA,EAAMuB,KAAKtC,YAC3CuC,EAAWC,eAET/L,EAAM0D,cAAN1D,EAER,EAA0CiC,IAAMwF,UAAS,GAAzD,mBAAOkM,EAAP,KAAsBC,EAAtB,KAYA,EAA0C3R,IAAMwF,UAAS,GAAzD,mBAAOoM,EAAP,KAAsBC,EAAtB,KAYA,EAA0D7R,IAAMwF,UAAS,GAAzE,mBAAOsM,EAAP,KAA8BC,EAA9B,KAYA,OACE,eAAClQ,EAAA,EAAD,CAAMC,WAAS,EAACC,UAAU,MAAMC,WAAW,aAAaC,QAAS,EAAjE,UACE,eAACJ,EAAA,EAAD,CAAMK,MAAI,EAACJ,WAAS,EAACK,GAAI,EAAGJ,UAAU,MAAMC,WAAW,SAASC,QAAS,EAAzE,UACE,cAACJ,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,GAAf,SACE,cAACC,EAAA,EAAD,CAAYC,QAAQ,KAApB,SAA0BtE,EAAE,gBAE9B,cAAC8D,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,cAACC,EAAA,EAAD,CAAY5C,MAAO,CAAEwS,aAAc,IAAnC,SAA0CjU,EAAE,wBAE9C,cAAC8D,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,cAACyI,GAAA,EAAD,CACEiB,OAAQ6F,EACRO,WAAaP,EAAuE,IAAvD3T,EAAE,mDAC/BqM,GAAG,kBACHuC,KAAK,SACLtK,QAAQ,WACR6P,gBAAiB,CACfC,QAAQ,GAEVtM,SAAU,SAAAC,GArDS,IAAAV,KAqDqBU,EAAMsM,OAAOhN,QApDhD,GAAKA,GAAS,KAASsG,OAAO2G,UAAU3G,OAAOtG,KAC1DuM,GAAiB,GACjB9H,EAASd,GAAY3D,MAErBuM,GAAiB,GACjB9H,EAASd,GAAY,SAgDf3D,MAA2B,OAApBkC,EAASC,OAAkBD,EAASC,OAAS,KACpD+K,WAAY,CACVC,aAAc,eAACC,GAAA,EAAD,CAAgBC,SAAS,MAAzB,mBAAwC1U,EAAE,WAE1D2U,WAAS,MAIb,cAAC7Q,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAG3C,MAAO,CAAE8F,UAAW,UAAtC,SACE,cAACpG,EAAA,EAAD,CAASC,MAAM,4BAAf,SACE,cAACC,EAAA,EAAD,CAAMI,MAAO,CAAEwS,aAAc,IAAMvT,MAAM,IAAIY,KAAK,cAItD,cAACwC,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,cAACC,EAAA,EAAD,CAAY5C,MAAO,CAAEwS,aAAc,IAAnC,SAA0CjU,EAAE,gBAE9C,cAAC8D,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,cAACyI,GAAA,EAAD,CACEiB,OAAQ+F,EACRK,WAAaL,EAAuE,IAAvD7T,EAAE,mDAC/BqM,GAAG,kBACHuC,KAAK,SACLtK,QAAQ,WACR6P,gBAAiB,CACfC,QAAQ,GAEVtM,SAAU,SAAAC,GArES,IAAAV,KAqEqBU,EAAMsM,OAAOhN,QApEhD,GAAKA,GAAS,KAASsG,OAAO2G,UAAU3G,OAAOtG,KAC1DyM,GAAiB,GACjBhI,EAASb,GAAY5D,MAErByM,GAAiB,GACjBhI,EAASb,GAAY,SAgEf5D,MAA6B,OAAtBkC,EAASE,SAAoBF,EAASE,SAAW,KACxD8K,WAAY,CACVC,aAAc,cAACC,GAAA,EAAD,CAAgBC,SAAS,MAAzB,gBAEhBC,WAAS,MAIb,cAAC7Q,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAG3C,MAAO,CAAE8F,UAAW,UAAtC,SACE,cAACpG,EAAA,EAAD,CAASC,MAAM,6BAAf,SACE,cAACC,EAAA,EAAD,CAAMI,MAAO,CAAEwS,aAAc,IAAMvT,MAAM,IAAIY,KAAK,cAItD,cAACwC,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,cAACC,EAAA,EAAD,CAAY5C,MAAO,CAAEwS,aAAc,IAAnC,SAA0CjU,EAAE,yBAE9C,cAAC8D,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAf,SACE,cAACyI,GAAA,EAAD,CACEiB,OAAQiG,EACRG,WAAaH,EAAmF,IAA3D/T,EAAE,uDACvCqM,GAAG,kBACHuC,KAAK,SACLtK,QAAQ,WACR6P,gBAAiB,CACfC,QAAQ,GAEVtM,SAAU,SAAAC,GArFiB,IAAAV,KAqFqBU,EAAMsM,OAAOhN,SApFvD,KAAQA,GAAS,KAAQsG,OAAO2G,UAAU3G,OAAOtG,KAC7D2M,GAAyB,GACzBlI,EAASZ,GAAoB7D,MAE7B2M,GAAyB,GACzBlI,EAASZ,GAAoB,SAgFvB7D,MAAqC,OAA9BkC,EAASG,iBAA4BH,EAASG,iBAAmB,KACxE6K,WAAY,CACVC,aAAc,cAACC,GAAA,EAAD,CAAgBC,SAAS,MAAzB,gBAEhBC,WAAS,MAIb,cAAC7Q,EAAA,EAAD,CAAMK,MAAI,EAACC,GAAI,EAAG3C,MAAO,CAAE8F,UAAW,UAAtC,SACE,cAACpG,EAAA,EAAD,CAASC,MAAM,uCAAf,SACE,cAACC,EAAA,EAAD,CAAMI,MAAO,CAAEwS,aAAc,IAAMvT,MAAM,IAAIY,KAAK,iBAIxD,cAACwC,EAAA,EAAD,CAAMK,MAAI,EAACJ,WAAS,EAACK,GAAI,EAAzB,SACE,cAACwM,GAAD,S,uJC9HKgE,GAAc,SAAA7U,GACzB,IAAQ+I,EAAS/I,EAAT+I,KAEF+H,EAAYjF,cAAY,SAAAtB,GAAK,OAAIA,EAAMuB,QAErC7L,EAAM0D,cAAN1D,EACF8E,EAAOtE,IAAQC,SAErB,OACE,qBAAKgB,MAAO,CAAE0B,WAAY,GAA1B,SACE,eAACW,EAAA,EAAD,CAAMK,MAAI,EAACJ,WAAS,EAACG,QAAS,EAAGD,WAAW,aAA5C,UACY,IAAT6E,EACC,mCACE,cAAChF,EAAA,EAAD,CAAMK,MAAI,EAAV,SACoC,OAAjC0M,EAAU7H,SAASC,UAClB,eAACnF,EAAA,EAAD,CAAMC,WAAS,EAACE,WAAW,SAASD,UAAU,MAAME,QAAS,EAA7D,UACE,cAAC,KAAD,CAAY2Q,SAAS,QAAQrT,MAAM,YAEnC,cAAC6C,EAAA,EAAD,CAAYC,QAAQ,UAApB,SACY,OAATQ,EACGmH,GAAc4E,EAAU7H,SAASC,WAAW5I,KAC5C4L,GAAc4E,EAAU7H,SAASC,WAAW5D,SAEjB,OAAhCwL,EAAU7H,SAASE,SAClB,qCACE,cAAC,KAAD,CAAiB2L,SAAS,QAAQrT,MAAM,YACxC,cAAC6C,EAAA,EAAD,CAAYC,QAAQ,UAApB,SACmC,IAAhCuM,EAAU7H,SAASE,SAChB,MACA+C,GAAc4E,EAAU7H,SAASC,WAAWC,cAIpD,2BAIJ,4BAKN,wBAGQ,IAATJ,EACC,cAAChF,EAAA,EAAD,CAAMK,MAAI,EAAV,SAC2C,OAAxC0M,EAAU1H,aAAaE,aACtB,eAACvF,EAAA,EAAD,CAAMC,WAAS,EAACE,WAAW,SAASD,UAAU,MAAME,QAAS,EAA7D,UACE,cAAC,KAAD,CAAe2Q,SAAS,QAAQrT,MAAM,YACtC,cAAC6C,EAAA,EAAD,CAAYC,QAAQ,UAApB,SACY,OAATQ,EACGgC,EAAe+J,EAAU1H,aAAaE,cAAchJ,KACpDyG,EAAe+J,EAAU1H,aAAaE,cAAchE,YAI5D,0BAIJ,wBAGQ,IAATyD,EACC,cAAChF,EAAA,EAAD,CAAMK,MAAI,EAAV,SACqC,OAAlC0M,EAAUvH,OAAOD,aAChB,eAACvF,EAAA,EAAD,CAAMC,WAAS,EAACE,WAAW,SAASD,UAAU,MAAME,QAAS,EAA7D,UACE,cAAC,KAAD,CAAe2Q,SAAS,QAAQrT,MAAM,YACtC,cAAC6C,EAAA,EAAD,CAAYC,QAAQ,UAApB,SACY,OAATQ,EACGgC,EAAe+J,EAAUvH,OAAOD,cAAchJ,KAC9CyG,EAAe+J,EAAUvH,OAAOD,cAAchE,YAItD,0BAIJ,wBAGQ,IAATyD,EACC,cAAChF,EAAA,EAAD,CAAMK,MAAI,EAAV,SACiC,OAA9B0M,EAAUtH,SAASC,OAClB,eAAC1F,EAAA,EAAD,CAAMC,WAAS,EAACE,WAAW,SAASD,UAAU,MAAME,QAAS,EAA7D,UACE,cAAC,KAAD,CAAiB2Q,SAAS,QAAQrT,MAAM,YACxC,eAAC6C,EAAA,EAAD,CAAYC,QAAQ,UAApB,UACGuM,EAAUtH,SAASC,OADtB,SACsCxJ,EAAE,UAEP,OAAhC6Q,EAAUtH,SAASE,SAClB,qCACE,cAAC,KAAD,CAAmBoL,SAAS,QAAQrT,MAAM,YAC1C,eAAC6C,EAAA,EAAD,CAAYC,QAAQ,UAApB,UAA+BuM,EAAUtH,SAASE,SAAlD,UAGF,wBAGuC,OAAxCoH,EAAUtH,SAASG,iBAClB,qCACE,cAAC,KAAD,CAAiBmL,SAAS,QAAQrT,MAAM,YAExC,eAAC6C,EAAA,EAAD,CAAYC,QAAQ,UAApB,UAA+BuM,EAAUtH,SAASG,iBAAlD,UAGF,2BAIJ,0BAIJ,8B,sDCnIJoF,GAAS,CACbnM,KAAM,WAGFmS,GAAY,CAChBnS,KAAM,WAGKlD,GAAQsV,aAAY,CAC/BtH,QAAS,CACPC,QAASoB,GACTgG,UAAWA,MCWTrS,IDPoBsS,aAAY,CACpCtH,QAAS,CACPC,QAASoB,GACTgG,UAAWA,GACXlG,KAAM,WAIemG,aAAY,CACnCtH,QAAS,CACPC,QAASoB,GACTgG,UAAWA,GACXlG,KAAM,UCLQlM,cAAW,SAAAjD,GAAK,MAAK,CACrCwG,QAAS,CACP7D,QAAS,OACTU,oBAAqB,gBACrBE,aAAc,SACdX,eAAgB,iBAElBM,KAAM,CACJP,QAAS,OACTQ,OAAQ,sBACRC,MAAO,QACPC,oBAAqB,MACrBC,WAAY,EACZC,aAAc,UACdX,eAAgB,SAChBY,YAAa,OACbC,aAAc,OACdC,WAAY,IAEd2F,KAAM,CACJxB,UAAW,uBAEblE,KAAM,CACJC,SAAU,EACVF,WAAY,IAEd6R,OAAQ,CACNC,YAAaxV,EAAMyE,QAAQ,IAE7BgR,aAAc,CACZC,UAAW1V,EAAMyE,QAAQ,GACzB+P,aAAcxU,EAAMyE,QAAQ,SAI1BkR,GAAkBjT,YAAW,CACjCiB,KAAM,CACJiS,UAAW,aACXlS,WAAY,QAEdmS,KAAM,CACJC,aAAc,IANMpT,CAQrBqT,MAEH,SAASC,GAAe3M,GACtB,OAAQA,GACN,KAAK,EACH,OAAO,cAAC6C,GAAD,IACT,KAAK,EACH,OAAO,cAACwE,GAAD,IACT,KAAK,EACH,OAAO,cAACsD,GAAD,IACT,KAAK,EACH,OAAO,cAACC,GAAD,IACT,QACE,MAAO,gBAIN,IAAMgC,GAAO,WAClB,IAAQ1V,EAAM0D,cAAN1D,EAWF2V,EAAQ/J,cAAY,SAAAtB,GAAK,OAAIA,EAAMuB,KAAK/C,QACxCC,EAAiB6C,cAAY,SAAAtB,GAAK,OAAIA,EAAMuB,KAAK9C,kBAEjD+C,EAAWC,eAEX9L,EAAUwC,KACVmT,EAdG,CACL5V,EAAE,yBACFA,EAAE,iBACFA,EAAE,WACFA,EAAE,aAgBN,OACE,sBAAKc,UAAU,MAAf,UACE,cAAC6C,EAAA,EAAD,CAAO7C,UAAWb,EAAQmD,KAAMwE,QAAM,EAAChE,UAAW,EAAlD,SACE,cAACiS,GAAA,EAAD,CAASC,WAAYH,EAAOI,UAAW,cAACX,GAAD,IAAvC,SACGQ,EAAM5U,KAAI,SAACN,EAAOQ,GAGjB,OACE,eAAC8U,GAAA,EAAD,6BAHgB,IAGhB,IAAiCvU,MAAO,CAAE4T,UAAW,cAArD,UACE,cAACY,GAAA,EAAD,6BAHe,IAGf,aAA4BvV,KAC5B,cAAC,GAAD,CAAaoI,KAAM5H,OAFVR,UASnB,qBAAKI,UAAWb,EAAQ0C,KAAxB,SACE,cAACgB,EAAA,EAAD,CAAOC,UAAW,EAAGnC,MAAO,CAAEoC,QAAS,IAAvC,SACE,cAACC,EAAA,EAAD,CAAMC,WAAS,EAACG,QAAS,EAAzB,SACE,cAACJ,EAAA,EAAD,CAAMK,MAAI,EAACJ,WAAS,EAACK,GAAI,GAAzB,SACGuR,IAAUC,EAAM9C,OACf,gCACE,cAACzO,EAAA,EAAD,CAAYvD,UAAWb,EAAQiV,aAA/B,mDACA,cAACgB,EAAA,EAAD,CAAQC,QA5BJ,WAClBrK,EAASvF,OA2BmCzF,UAAWb,EAAQ+U,OAAjD,sBAKF,eAAClR,EAAA,EAAD,CACEK,MAAI,EACJJ,WAAS,EACTC,UAAU,SACVC,WAAW,SACXnD,UAAWb,EAAQ6I,KALrB,UAOG2M,GAAeE,GAEhB,sBAAKlU,MAAO,CAAE0B,WAAY1D,GAAMyE,QAAQ,IAAxC,UACE,cAACgS,EAAA,EAAD,CAAQpJ,SAAoB,IAAV6I,EAAaQ,QAAS,kBAAMrK,EAAS/F,OAAajF,UAAWb,EAAQ+U,OAAvF,SACGhV,EAAE,UAEL,cAACkW,EAAA,EAAD,CACE5R,QAAQ,YACR9C,MAAM,UACN2U,QAAS,kBAAMrK,EAAShG,OACxBhF,UAAWb,EAAQ+U,OACnBlI,UAAU/D,EAAeqN,SAAST,GALpC,SAOGA,IAAUC,EAAM9C,OAAS,EAAI9S,EAAE,UAAYA,EAAE,4BCzI9DyC,GAAYC,cAAW,SAAAjD,GAAK,MAAK,CACrCkD,KAAM,CACJP,QAAS,OACTQ,OAAQ,sBACRC,MAAO,QACPC,oBAAqB,MACrBC,WAAY,EACZC,aAAc,UACdX,eAAgB,SAChBY,YAAa,OACbC,aAAc,OACdC,WAAY,KAEdC,KAAM,CACJC,SAAU,EACVF,WAAY,SAeHkT,GAAU,WACrB,IAUMpW,EAAUwC,KAERzC,EAAM0D,cAAN1D,EAEF8E,EAAOtE,IAAQC,SAEf6V,EAAiB1K,cAAY,SAAAtB,GAAK,OAAIA,EAAMuB,KAAK9B,aACjDf,EAAW4C,cAAY,SAAAtB,GAAK,OAAIA,EAAMuB,KAAK7C,YAE3C5I,EAAU,CACd,CACEC,KAAM,UACNK,MAAOV,EAAE,WACTM,QAAS,CACPC,QAAQ,EACRI,qBAAsB,SAAAC,GACpB,OAAOA,EAAY,KAIzB,CACEP,KAAM,iBACNK,MAAOV,EAAE,mBACTM,QAAS,CACPC,QAAQ,EACRI,qBAAsB,SAAAC,GACpB,MAAgB,OAATkE,EACHD,EAAgB3E,EAAKU,GAAWoJ,gBAAgBZ,SAC9C,MACAvE,EAAgB3E,EAAKU,GAAWoJ,gBAAgB5I,MAClDyD,EAAgB3E,EAAKU,GAAWoJ,gBAAgBuJ,WAC9C,MACA1O,EAAgB3E,EAAKU,GAAWoJ,gBAAgBuM,WAI5D,CACElW,KAAM,gBACNK,MAAOV,EAAE,kBACTM,QAAS,CACPC,QAAQ,EACRI,qBAAsB,SAAAC,GACpB,OAAOiE,EAAgB3E,EAAKU,GAAWoJ,gBAAgB7E,eAAenE,KAAI,SAACoE,EAAIlE,GAAL,OACxE,cAACC,EAAA,EAAD,CAASC,MAAgB,OAAT0D,EAAgB3E,EAAciF,GAAI/E,KAAOF,EAAciF,GAAIC,OAA3E,SACE,cAAChE,EAAA,EAAD,CAAMX,MAAO0E,EAAgB9D,KAAK,QAAQE,MAAM,UAAUC,MAAO,CAAEc,OAAQ,IAArDrB,WAOhC,CACEb,KAAM,SACNK,MAAOV,EAAE,iBACTM,QAAS,CACPC,QAAQ,EACRI,qBAAsB,SAAAC,GACpB,OAAOmM,KAAKC,MAAiC,GAAzB9M,EAAKU,GAAWqJ,OAAe,EAAK,KAAQ,OAItE,CACE5J,KAAM,QACNK,MAAOV,EAAE,qCACTM,QAAS,CACPC,QAAQ,EACRI,qBAAsB,SAAAC,GACpB,OAA6B,IAAtBoI,EAASE,SACd,qCAAG6D,KAAKC,MAA8B,IAAxB9M,EAAKU,GAAWsJ,OAAcyF,eAAe,SAA3D,QAEA,sCAEI1D,GAAcjD,EAASC,WAAWiE,cAAgBH,KAAKC,MAA8B,IAAxB9M,EAAKU,GAAWsJ,QAC7EyF,eAAe,SAAU,IAC1B1D,GAAcjD,EAASC,WAAWC,eAM7C,CACE7I,KAAM,kBACNK,MAAOV,EAAE,oBACTM,QAAS,CACPC,QAAQ,EACRI,qBAAsB,SAAAC,GACpB,OAA6B,IAAtBoI,EAASE,SACd,qCAAG6D,KAAKC,MAAwC,IAAlC9M,EAAKU,GAAWuJ,iBAAwBwF,eAAe,SAArE,QAEA,sCAEI1D,GAAcjD,EAASC,WAAWiE,cAAgBH,KAAKC,MAAwC,IAAlC9M,EAAKU,GAAWuJ,kBAC7EwF,eAAe,SAAU,IAC1B1D,GAAcjD,EAASC,WAAWC,eAM7C,CACE7I,KAAM,0BACNK,MAAOV,EAAE,8BACTM,QAAS,CACPC,QAAQ,EACRI,qBAAsB,SAAAC,GACpB,OAA6B,IAAtBoI,EAASE,SACd,qCAAG6D,KAAKC,MAAgD,IAA1C9M,EAAKU,GAAWwJ,yBAAgCuF,eAAe,SAA7E,QAEA,sCAEI1D,GAAcjD,EAASC,WAAWiE,cAClCH,KAAKC,MAAgD,IAA1C9M,EAAKU,GAAWwJ,0BAC3BuF,eAAe,SAAU,IAC1B1D,GAAcjD,EAASC,WAAWC,gBAQzChJ,EAAOoW,EAWb,OACE,qBAAKxV,UAAU,MAAf,SACE,qBAAKA,UAAWb,EAAQ0C,KAAxB,SACE,cAACgB,EAAA,EAAD,CAAOC,UAAW,EAAGnC,MAAO,CAAEoC,QAAS,IAAvC,SACE,cAAC,IAAD,CAAkBpE,MAlJI,CAC5BC,UAAW,CACTC,aAAc,CACZC,MAAO,CACLC,UAAW,WA8IX,SACE,cAAC,IAAD,CAAcuB,MAAOpB,EAAE,WAAYE,KAAMA,EAAME,QAASA,EAASE,QAd3D,CACdC,QAAQ,EACRsB,WAAY,WACZC,eAAgB,OAChBC,YAAa,GACbC,OAAO,EACPsD,aAAa,c,8DCtLF,SAASkR,KACtB,MAAgCvU,IAAMwF,SAAS,MAA/C,mBAAOgP,EAAP,KAAiBC,EAAjB,KAMMC,EAAc,WAClBD,EAAY,OAGRE,EAAuB,SAAA9R,GAC3BtE,IAAQqW,eAAe/R,GACvB6R,KAGF,OACE,gCACE,cAACT,EAAA,EAAD,CACE,gBAAc,cACd,gBAAc,OACdC,QAlBc,SAAApO,GAClB2O,EAAY3O,EAAM+O,gBAkBdC,UAAW,cAAC,KAAD,IACXC,QAAS,cAAC,KAAD,IACTxV,MAAM,UANR,SAQwB,OAArBhB,IAAQC,SAAoB,UAAY,eAE3C,eAACwW,GAAA,EAAD,CAAM5K,GAAG,cAAcoK,SAAUA,EAAUS,aAAW,EAACC,KAAMC,QAAQX,GAAWY,QAASV,EAAzF,UACE,cAACW,GAAA,EAAD,CAAUjQ,MAAM,KAAK8O,QAAS,kBAAMS,EAAqB,OAAzD,qBAGA,cAACU,GAAA,EAAD,CAAUjQ,MAAM,KAAK8O,QAAS,kBAAMS,EAAqB,OAAzD,8BCrCR,IAAMnU,GAAYC,cAAW,SAACjD,GAAD,MAAmB,CAC9C8X,KAAM,CACJ9G,KAAMhR,EAAMgO,QAAQyC,WAAWS,QAC/B6G,OAAQ/X,EAAMgO,QAAQyC,WAAWS,QACjC8G,iBAAkB,IAEpBC,EAAG,CACDF,OAAQ/X,EAAMgO,QAAQC,QAAQ/K,KAC9B8N,KAAM,OACNgH,iBAAkB,GAClBE,YAAa,WAQJC,GAAkB,SAAC,GAAqB,IAAnBtW,EAAkB,EAAlBA,KAE1BrB,EAAUwC,KAChB,OAEI,sBAAK4J,GAAG,YAAY,YAAU,YAAYmE,MAAM,6BAA6BqH,QAAQ,YAAYhV,MAAOvB,EAAMsB,OAAQtB,EAAtH,UACE,sBAAMR,UAAWb,EAAQsX,KAAMxI,EAAE,kGACjC,sBAAMjO,UAAWb,EAAQyX,EAAG3I,EAAE,iHCRhCtM,GAAYC,IAAW,CAC3BuD,QAAS,CACP7D,QAAS,OACTU,oBAAqB,eACrBE,aAAc,SACdX,eAAgB,iBAElBjB,MAAO,CACLmG,UAAW,QAEbnE,KAAM,CACJC,SAAU,KAIDyU,GAAM,WACjB,IAAM7X,EAAUwC,KACRzC,EAAM0D,cAAN1D,EAEFsW,EAAiB1K,cAAY,SAAAtB,GAAK,OAAIA,EAAMuB,KAAK9B,aAEvD,OACE,qBAAKjJ,UAAU,MAAf,SACE,eAAC,IAAD,WACE,cAACiX,EAAA,EAAD,CAAQnU,UAAW,EAAnB,SACE,eAACoU,EAAA,EAAD,CAASlX,UAAWb,EAAQgG,QAA5B,UACE,eAACnC,EAAA,EAAD,CAAMC,WAAS,EAACE,WAAW,aAAaC,QAAS,EAAG7B,eAAe,SAAnE,UACE,cAAC6T,EAAA,EAAD,CACE,gBAAc,cACd,gBAAc,OACd3N,UAAWC,IACXH,GAAE,UAAKC,eAAL,UACFyO,UAAW,cAAC,IAAD,IACXvV,MAAM,UANR,SAQGxB,EAAE,WAEL,cAACkW,EAAA,EAAD,CACE,gBAAc,cACd,gBAAc,OACd3N,UAAWC,IACXH,GAAE,UAAKC,eAAL,SACFyO,UAAW,cAAC,IAAD,IACXvV,MAAM,UANR,SAQGxB,EAAE,cAEL,cAACkW,EAAA,EAAD,CACE,gBAAc,cACd,gBAAc,OACd3N,UAAWC,IACXH,GAAE,UAAKC,eAAL,YACFyO,UAAW,cAAC,IAAD,IACXvV,MAAM,UACNsL,SAA+C,OAArCwJ,EAAe,GAAGtM,eAP9B,SASGhK,EAAE,gBAEC,IACR,eAAC8D,EAAA,EAAD,CAAMC,WAAS,EAACE,WAAW,SAASC,QAAS,EAAG7B,eAAe,SAA/D,UACE,cAACyB,EAAA,EAAD,CAAMK,MAAI,EAAV,SACE,cAAC,GAAD,CAAiB7C,KAAM,OAEzB,cAACwC,EAAA,EAAD,CAAMK,MAAI,EAAV,SACE,cAACE,EAAA,EAAD,CAAYC,QAAQ,KAApB,oCAGJ,cAACR,EAAA,EAAD,CAAMC,WAAS,EAACE,WAAW,WAAWC,QAAS,EAAG7B,eAAe,SAAjE,SACE,cAAC,GAAD,MACM,SAIZ,8BACE,eAAC,IAAD,WACE,cAAC,IAAD,CAAOoG,OAAK,EAACC,KAAI,UAAKJ,eAAL,KAAgCC,UAAWf,KAC5D,cAAC,IAAD,CAAOkB,KAAI,UAAKJ,eAAL,UAAqCC,UAAWf,KAC3D,cAAC,IAAD,CAAOkB,KAAI,UAAKJ,eAAL,SAAoCC,UAAWmN,KAC1D,cAAC,IAAD,CAAOhN,KAAI,UAAKJ,eAAL,YAAuCC,UAAW8N,gB,WC7F5DyB,GAAM,WAGjB,OACE,eAACG,EAAA,EAAD,CAAexY,MAAOA,GAAtB,UACE,cAACyY,GAAA,EAAD,IACA,cAAC,GAAD,QCRSC,gBAAe,CAC5BC,QAAS,CACPvM,KAAMwM,M,UCDVC,IACGC,IAAIC,MACJC,KAAK,CACJC,UCPqB,CACvBC,GAAI,CACFC,YAAa,CACXpR,MAAO,WACP,WAAY,aACZ6O,QAAS,aAET,oBAAqB,qBACrB,iBAAkB,qBAClB,mBAAoB,wBACpB,eAAgB,mBAChB,kBAAmB,sBAEnBwC,KAAM,SACN,6CAA8C,yEAC9CC,UAAW,WACXC,SAAU,kBACV,sBAAuB,6BACvB,oBAAqB,yBAErBC,YAAa,aACb,kBAAmB,gCACnB,+BAAgC,4CAChC,kCAAmC,gDACnC,gBAAiB,qBACjB,uBAAwB,+BACxB,wBAAyB,+BACzB,eAAgB,mBAChB,kBAAmB,wBACnB,kBAAmB,0BACnB,yBAA0B,mCAC1B,oBAAqB,0BACrB,oBAAqB,wBACrBC,MAAO,UAEPC,OAAQ,YACR,eAAgB,gBAChB,eAAgB,eAChB,eAAgB,mBAChB,gBAAiB,uBAEjBC,SAAU,eACVC,MAAO,YACPC,YAAa,iBACb,aAAc,kBACdC,KAAM,OACNC,UAAW,aAEX,wBAAyB,6BACzB,gBAAiB,qBACjB,UAAW,YACX7F,SAAU,WACV8F,YAAa,eACbC,OAAQ,WACRC,KAAM,aACNC,KAAM,SACN,gBAAiB,mBACjB,qBAAsB,sBACtB,sBAAuB,qBACvB,YAAa,oBACb,mBAAoB,2BACpB,gBAAiB,qBACjB,gBAAiB,oBACjBC,QAAS,UACTC,SAAU,SACV,sBAAuB,8BACvB,sBAAuB,kCACvB,mBAAoB,oBACpBC,IAAK,SAEL,2BAA4B,kCAC5B,qDAAsD,6DACtD,kDAAmD,wDAEnDlM,MAAO,UACPC,OAAQ,SACR,aAAc,aAEdkM,MAAO,UACP,gBAAiB,gBAEjB,wBAAyB,0BACzB,4GACE,wIACF,mDAAoD,wDACpD,oFACE,4GACFC,OAAQ,gBACR,kBAAmB,uBACnBC,KAAM,QAEN,gBAAiB,0BACjB,qpBACE,i0BACF,0bACE,miBAEF,wHACE,oIAEF,2CAA4C,gDAE5CC,QAAS,mBACT,mBAAoB,mBACpB,6BAA8B,4BAC9B,oCAAqC,qCACrC,8BAA+B,4BAC/B,eAAgB,oBAEhB,mCAAoC,2DACpC,KAAQ,aDtGVC,IAAK,KAILC,cAAe,CACbC,aAAa,KAIJ/B,EAAf,EAAeA,IEVTgC,GAAO,kBACX,cAAC,KAAD,CAAUC,MAAOA,GAAjB,SACE,cAAC,GAAD,OAIJC,IAASC,OAAO,cAAC,GAAD,IAAUC,SAASC,eAAe,W","file":"static/js/main.ab8fc7b7.chunk.js","sourcesContent":["import React from 'react'\nimport MUIDataTable from 'mui-datatables'\nimport { MuiThemeProvider, withStyles } from '@material-ui/core/styles'\n\nimport unitProcesses from '../data/unitProcesses.json'\n\nimport Chip from '@material-ui/core/Chip'\nimport Tooltip from '@material-ui/core/Tooltip'\n\nimport { withTranslation } from 'react-i18next'\nimport i18next from 'i18next'\n\nconst styles = theme => ({\n  chipContainer: {\n    display: 'flex',\n    justifyContent: 'left',\n    flexWrap: 'wrap',\n    '& > *': {\n      margin: 2\n    }\n  }\n})\n\nclass UnitProcesses extends React.Component {\n  getMuiTheme = theme => ({\n    overrides: {\n      MUIDataTable: {\n        paper: {\n          boxShadow: 'none'\n        }\n      }\n    }\n  })\n\n  render() {\n    const { t, classes } = this.props\n\n    const data = unitProcesses\n    const lang = i18next.language\n\n    var nameCol = lang === 'en' ? 'name' : 'nameEs'\n\n    const columns = [\n      {\n        name: 'id',\n        options: {\n          filter: true\n        }\n      },\n      {\n        name: nameCol,\n        label: t('Name'),\n        options: {\n          filter: true\n        }\n      },\n      {\n        name: 'pre',\n        label: t('Pollutant Removal Efficiencies [% removal]'),\n        options: {\n          filter: false,\n          customBodyRenderLite: dataIndex => {\n            const columns = ['turbidity', 'tss', 'bod', 'cod', 'fc', 'tc']\n            const columnTitles = [t('Turbidity'), 'TSS', 'BOD', 'COD', 'FC', 'TC']\n\n            return (\n              <div className={classes.chipContainer}>\n                {columns.map((column, index) => (\n                  <Tooltip key={index} title={columnTitles[index]}>\n                    <Chip label={data[dataIndex][column]} key={index} size=\"small\" />\n                  </Tooltip>\n                ))}\n              </div>\n            )\n          }\n        }\n      },\n      {\n        name: 'recovery',\n        label: t('Recovery') + ' [%]',\n        options: {\n          filter: false,\n          customBodyRenderLite: dataIndex => {\n            return (\n              <div className={classes.chipContainer}>\n                <Chip label={data[dataIndex].recovery} size=\"small\" />\n              </div>\n            )\n          }\n        }\n      },\n      {\n        name: 'reliability',\n        label: t('Evaluation Criteria') + ' [0-3]',\n        options: {\n          filter: false,\n          customBodyRenderLite: dataIndex => {\n            const columns = [\n              'reliability',\n              'ease_to_upgrade',\n              'adaptability_to_varying_flow',\n              'adaptability_to_varying_quality',\n              'ease_of_om',\n              'ease_of_construction',\n              'ease_of_demonstration',\n              'power_demand',\n              'chemical_demand',\n              'odor_generation',\n              'impact_on_ground_water',\n              'land_requirements',\n              'cost_of_treatment',\n              'waste'\n            ]\n            const columnTitles = [\n              t('reliability'),\n              t('ease to upgrade'),\n              t('adaptability to varying flow'),\n              t('adaptability to varying quality'),\n              t('ease of O & M'),\n              t('ease of construction'),\n              t('ease of demonstration'),\n              t('power demand'),\n              t('chemical demand'),\n              t('odor generation'),\n              t('impact on ground water'),\n              t('land requirements'),\n              t('cost of treatment'),\n              t('waste')\n            ]\n\n            return (\n              <div className={classes.chipContainer}>\n                {columns.map((column, index) => (\n                  <Tooltip key={index} title={columnTitles[index]}>\n                    <Chip\n                      label={data[dataIndex][column]}\n                      key={index}\n                      size=\"small\"\n                      color=\"primary\"\n                      style={{ opacity: 0.25 + data[dataIndex][column] / 4 }}\n                    />\n                  </Tooltip>\n                ))}\n              </div>\n            )\n          },\n          setCellProps: () => ({ style: { minWidth: '25vw' } })\n        }\n      },\n      {\n        name: 'useful_life',\n        label: t('Useful Life [yrs]'),\n        options: {\n          filter: false,\n          customBodyRenderLite: dataIndex => {\n            return (\n              <div className={classes.chipContainer}>\n                <Chip label={data[dataIndex].recovery} size=\"small\" />\n              </div>\n            )\n          }\n        }\n      }\n    ]\n\n    const options = {\n      filter: true,\n      filterType: 'dropdown',\n      selectableRows: 'none',\n      rowsPerPage: 15,\n      print: false\n    }\n\n    return (\n      <MuiThemeProvider theme={this.getMuiTheme()}>\n        <MUIDataTable title={t('Unit Processes')} data={data} columns={columns} options={options} />\n      </MuiThemeProvider>\n    )\n  }\n}\n\nexport default withStyles(styles)(withTranslation()(UnitProcesses))\n","export default __webpack_public_path__ + \"static/media/Calculations.5eb5970b.png\";","import React from 'react'\nimport makeStyles from '@material-ui/core/styles/makeStyles'\nimport Paper from '@material-ui/core/Paper'\nimport Typography from '@material-ui/core/Typography'\nimport { useTranslation } from 'react-i18next'\nimport Calculations from '../images/Calculations.png'\nimport Grid from '@material-ui/core/Grid'\n\nconst useStyles = makeStyles(theme => ({\n  main: {\n    display: 'grid',\n    height: 'calc(100vh - 200px)',\n    width: '100vw',\n    gridTemplateColumns: '1fr',\n    gridRowGap: 8,\n    justifyItems: 'stretch',\n    justifyContent: 'center',\n    paddingLeft: '10vw',\n    paddingRight: '10vw',\n    paddingTop: 50\n  },\n  root: {\n    flexGrow: 1,\n    paddingTop: 60\n  },\n  img: {\n    margin: 'auto',\n    display: 'block',\n    maxWidth: '100%',\n    maxHeight: '100%'\n  }\n}))\n\nexport default function GeneralReference() {\n  const classes = useStyles()\n  const { t } = useTranslation()\n\n  return (\n    <div className={classes.main}>\n      <Paper elevation={0} style={{ padding: 10 }}>\n        <Grid container direction=\"row\" alignItems=\"flex-start\" spacing={3}>\n          <Grid item xs={12}>\n            <Typography variant=\"h6\">{t('General Reference')}</Typography>\n          </Grid>\n          <Grid item xs={4}>\n            <Typography>\n              {t(\n                'This Poseidon  Web on-line application is an update of the already existing developed Poseidon application based on Microsoft Excel. The scope of the new application is to enhance the older version to a more user-friendly decision support tool, that supports pre-feasibility studies and aims at promoting water reuse and building capacities in the field. The tool developed currently encompasses 37-unit processes combined into 70 benchmark treatment trains. It also contains information on water quality standards and typical wastewater qualities. It estimates the removal performances for 12 parameters and the lifecycle costs including distribution.'\n              )}\n            </Typography>\n            <Typography>\n              {t(\n                'The tool and all underlying data are open access and under continuous development. The underlying systemic approach of the tool makes it intuitive also for users with limited prior knowledge in the field to identify most adequate solutions based on a multi-criteria assessment. This should help to promote water reuse and spearhead initiates for more detailed feasibility and design commissioning for implementation of water reuse schemes.'\n              )}\n            </Typography>\n            <Typography>\n              {t(\n                'The figure on the right shows a simplified flow of how the application works and how the calculations are being made.'\n              )}\n            </Typography>\n          </Grid>\n          <Grid item xs={8}>\n            <img className={classes.img} src={Calculations} alt={t('Overview of application and calculations')} />\n          </Grid>\n        </Grid>\n      </Paper>\n    </div>\n  )\n}\n","import React from 'react'\n\nimport makeStyles from '@material-ui/core/styles/makeStyles'\n\nimport Paper from '@material-ui/core/Paper'\n\nimport Typography from '@material-ui/core/Typography'\n\nimport { useTranslation } from 'react-i18next'\n\nconst useStyles = makeStyles(theme => ({\n  main: {\n    display: 'grid',\n    height: 'calc(100vh - 200px)',\n    width: '100vw',\n    gridTemplateColumns: '1fr',\n    gridRowGap: 8,\n    justifyItems: 'stretch',\n    justifyContent: 'center',\n    paddingLeft: '10vw',\n    paddingRight: '10vw',\n    paddingTop: 50\n  },\n  root: {\n    flexGrow: 1,\n    paddingTop: 60\n  }\n}))\n\nexport default function Pestle() {\n  const classes = useStyles()\n  const { t } = useTranslation()\n\n  return (\n    <div className={classes.main}>\n      <Paper elevation={0} style={{ padding: 10 }}>\n        <Typography variant=\"h6\">{t('PESTLE')}</Typography>\n      </Paper>\n    </div>\n  )\n}\n","import React from 'react'\n\nimport makeStyles from '@material-ui/core/styles/makeStyles'\n\nimport Paper from '@material-ui/core/Paper'\n\nimport Typography from '@material-ui/core/Typography'\n\nimport { useTranslation } from 'react-i18next'\n\nconst useStyles = makeStyles(theme => ({\n  main: {\n    display: 'grid',\n    height: 'calc(100vh - 200px)',\n    width: '100vw',\n    gridTemplateColumns: '1fr',\n    gridRowGap: 8,\n    justifyItems: 'stretch',\n    justifyContent: 'center',\n    paddingLeft: '10vw',\n    paddingRight: '10vw',\n    paddingTop: 50\n  },\n  root: {\n    flexGrow: 1,\n    paddingTop: 60\n  }\n}))\n\nexport default function CaseStudies() {\n  const classes = useStyles()\n  const { t } = useTranslation()\n\n  return (\n    <div className={classes.main}>\n      <Paper elevation={0} style={{ padding: 10 }}>\n        <Typography variant=\"h6\">{t('Case Studies')}</Typography>\n      </Paper>\n    </div>\n  )\n}\n","import React from 'react'\nimport MUIDataTable from 'mui-datatables'\nimport { MuiThemeProvider, withStyles } from '@material-ui/core/styles'\n\nimport treatmentTrains from '../data/treatmentTrains.json'\nimport unitProcesses from '../data/unitProcesses.json'\n\nimport Chip from '@material-ui/core/Chip'\nimport Tooltip from '@material-ui/core/Tooltip'\n\nimport { withTranslation } from 'react-i18next'\nimport i18next from 'i18next'\n\nconst styles = theme => ({\n  chipContainer: {\n    display: 'flex',\n    justifyContent: 'left',\n    flexWrap: 'wrap',\n    '& > *': {\n      margin: 2\n    }\n  }\n})\n\nclass TreatmentTrains extends React.Component {\n  getMuiTheme = theme => ({\n    overrides: {\n      MUIDataTable: {\n        paper: {\n          boxShadow: 'none'\n        }\n      }\n    }\n  })\n\n  render() {\n    const { t, classes } = this.props\n\n    const data = treatmentTrains\n\n    const lang = i18next.language\n\n    var categoryCol = lang === 'en' ? 'category' : 'categoryEs'\n    var titleCol = lang === 'en' ? 'title' : 'titleEs'\n    var descriptionCol = lang === 'en' ? 'description' : 'descriptionEs'\n    var caseStudyCol = lang === 'en' ? 'case_study' : 'case_studyEs'\n\n    const columns = [\n      {\n        name: 'id',\n        label: 'ID',\n        options: {\n          filter: true\n        }\n      },\n      {\n        name: categoryCol,\n        label: t('Category'),\n        options: {\n          filter: true\n        }\n      },\n      {\n        name: titleCol,\n        label: t('Title'),\n        options: {\n          filter: true\n        }\n      },\n      {\n        name: descriptionCol,\n        label: t('Description'),\n        options: {\n          filter: true\n        }\n      },\n      {\n        name: caseStudyCol,\n        label: t('Case Study'),\n        options: {\n          filter: true,\n          setCellProps: () => ({ style: { maxWidth: '20vw' } })\n        }\n      },\n      {\n        name: 'unit_processes',\n        label: t('Unit Processes'),\n        options: {\n          filter: false,\n          customBodyRenderLite: dataIndex => {\n            const UPList = data[dataIndex].unit_processes\n\n            return (\n              <div className={classes.chipContainer}>\n                {UPList.map((up, index) => (\n                  <Tooltip key={index} title={lang === 'en' ? unitProcesses[up].name : unitProcesses[up].nameEs}>\n                    <Chip label={up} key={index} size=\"small\" color=\"primary\" />\n                  </Tooltip>\n                ))}\n              </div>\n            )\n          },\n          setCellProps: () => ({ style: { minWidth: '15vw' } })\n        }\n      }\n    ]\n\n    const options = {\n      filter: true,\n      filterType: 'dropdown',\n      selectableRows: 'none',\n      rowsPerPage: 15,\n      print: false,\n      fixedHeader: true\n    }\n\n    return (\n      <MuiThemeProvider theme={this.getMuiTheme()}>\n        <MUIDataTable title={t('Treatment Trains')} data={data} columns={columns} options={options} />\n      </MuiThemeProvider>\n    )\n  }\n}\n\nexport default withStyles(styles)(withTranslation()(TreatmentTrains))\n","import { useTranslation } from 'react-i18next'\n\nexport default function TextLabels() {\n\n    const { t } = useTranslation()\n\n    const textLabels = {\n        textLabels: {\n            body: {\n                noMatch: t('Sorry, no matching records found'),\n                toolTip: t('Sort'),\n                columnHeaderTooltip: column => `Sort for ${column.label}`\n            },\n            pagination: {\n                next: \"Next Page\",\n                previous: \"Previous Page\",\n                rowsPerPage: \"Rows per page:\",\n                displayRows: \"of\",\n            },\n            toolbar: {\n                search: \"Search\",\n                downloadCsv: \"Download CSV\",\n                print: \"Print\",\n                viewColumns: \"View Columns\",\n                filterTable: \"Filter Table\",\n            },\n            filter: {\n                all: \"All\",\n                title: \"FILTERS\",\n                reset: \"RESET\",\n            },\n            viewColumns: {\n                title: \"Show Columns\",\n                titleAria: \"Show/Hide Table Columns\",\n            },\n            selectedRows: {\n                text: \"row(s) selected\",\n                delete: \"Delete\",\n                deleteAria: \"Delete Selected Rows\",\n            },\n        }\n    }\n\n    return (\n        textLabels\n    )\n} \n\n\n","import React from 'react'\nimport MUIDataTable from 'mui-datatables'\nimport { MuiThemeProvider, withStyles } from '@material-ui/core/styles'\n\nimport waterQualities from '../data/waterQualities.json'\nimport waterQualityCategories from '../data/waterQualityCategories.json'\n\nimport Chip from '@material-ui/core/Chip'\nimport Tooltip from '@material-ui/core/Tooltip'\n\nimport { withTranslation } from 'react-i18next'\nimport i18next from 'i18next'\nimport textLabels from '../i18n/textLabels'\n\n  const styles = theme => ({\n  chipContainer: {\n    display: 'flex',\n    justifyContent: 'left',\n    flexWrap: 'wrap',\n    '& > *': {\n      margin: 2\n    }\n  }\n})\n\nclass WaterQualities extends React.Component {\n  getMuiTheme = theme => ({\n    overrides: {\n      MUIDataTable: {\n        paper: {\n          boxShadow: 'none'\n        }\n      }\n    }\n  })\n\n  render() {\n    const { t, classes } = this.props\n\n    const data = waterQualities\n    const qualities = waterQualityCategories\n\n    const lang = i18next.language\n\n    var nameCol = lang === 'en' ? 'name' : 'nameEs'\n    var noteCol = lang === 'en' ? 'note' : 'noteEs'\n    var referenceCol = lang === 'en' ? 'reference' : 'referenceEs'\n\n    const columns = [\n      {\n        name: 'id',\n        label: 'ID',\n        options: {\n          filter: true\n        }\n      },\n      {\n        name: 'category',\n        label: t('Category'),\n        options: {\n          filter: true,\n          customBodyRender: value => {\n            return <div>{lang === 'en' ? qualities[value].name : qualities[value].nameEs}</div>\n          }\n        }\n      },\n      {\n        name: nameCol,\n        label: t('Name'),\n        options: {\n          filter: true\n        }\n      },\n      {\n        name: 'wqi',\n        label: t('Water Quality Indicators'),\n        options: {\n          filter: false,\n          customBodyRenderLite: dataIndex => {\n            const columns = ['turbidity', 'tss', 'bod', 'cod', 'fc', 'tc']\n            const columnTitles = [t('Turbidity'), 'TSS', 'BOD', 'COD', 'FC', 'TC']\n\n            return (\n              <div className={classes.chipContainer}>\n                {columns.map((column, index) => (\n                  <Tooltip key={index} title={columnTitles[index]}>\n                    <Chip\n                      label={data[dataIndex][column] !== '-1' ? data[dataIndex][column] : '-'}\n                      key={index}\n                      size=\"small\"\n                    />\n                  </Tooltip>\n                ))}\n              </div>\n            )\n          },\n          setCellProps: () => ({ style: { minWidth: '20vw' } })\n        }\n      },\n      {\n        name: noteCol,\n        label: t('Note'),\n        options: {\n          filter: true\n        }\n      },\n      {\n        name: referenceCol,\n        label: t('Reference'),\n        options: {\n          filter: true\n        }\n      }\n    ]\n\n    const options = {\n      filter: true,\n      filterType: 'dropdown',\n      selectableRows: 'none',\n      rowsPerPage: 15,\n      print: false,\n      textLabels: {textLabels}\n    }\n\n    return (\n      <MuiThemeProvider theme={this.getMuiTheme()}>\n        <MUIDataTable title={t('Water Qualities')} data={data} columns={columns} options={options} />\n      </MuiThemeProvider>\n    )\n  }\n}\n\nexport default withStyles(styles)(withTranslation()(WaterQualities))\n","import React from 'react'\n\nimport makeStyles from '@material-ui/core/styles/makeStyles'\nimport UnitProcesses from './UnitProcesses'\nimport GeneralReference from './GeneralReference'\nimport Pestle from './Pestle'\nimport CaseStudies from './CaseStudies'\n\nimport TreatmentTrains from './TreatmentTrains'\nimport { BrowserRouter as Router, Link, Route, Switch } from 'react-router-dom'\nimport Paper from '@material-ui/core/Paper'\nimport Tabs from '@material-ui/core/Tabs'\nimport Tab from '@material-ui/core/Tab'\n\nimport { useTranslation } from 'react-i18next'\nimport WaterQualities from './WaterQualities'\n\nconst useStyles = makeStyles({\n  toolbar: {\n    display: 'grid',\n    gridTemplateColumns: 'auto 1fr auto',\n    justifyItems: 'center',\n    justifyContent: 'space-between'\n  },\n  main: {\n    display: 'grid',\n    minHeight: 'calc(100vh - 300px)',\n    width: '100vw',\n    gridTemplateColumns: '1fr',\n    gridRowGap: 8,\n    justifyItems: 'stretch',\n    justifyContent: 'center',\n    paddingLeft: '10vw',\n    paddingRight: '10vw',\n    paddingTop: 20\n  },\n  title: {\n    textAlign: 'left'\n  },\n  root: {\n    flexGrow: 1,\n    paddingTop: 60\n  }\n})\n\nexport const Learn = () => {\n  const { t } = useTranslation()\n\n  const classes = useStyles()\n\n  const [menuPoint, setMenuPoint] = React.useState(0)\n\n  const handleChange = (event: React.ChangeEvent<{}>, newValue: number) => {\n    setMenuPoint(newValue)\n  }\n\n  return (\n    <div className=\"App\">\n      <Router>\n        <Paper className={classes.root} square elevation={3}>\n          <Tabs value={menuPoint} onChange={handleChange} indicatorColor=\"primary\" textColor=\"primary\" centered>\n            <Tab label={t('General Reference')} to={`${process.env.PUBLIC_URL}/general`} component={Link} />\n            {/* <Tab label={t('PESTLE')} to={`${process.env.PUBLIC_URL}/pestle`} component={Link} /> */}\n            <Tab label={t('Water Qualities')} to={`${process.env.PUBLIC_URL}/waterqualities`} component={Link} />\n            <Tab label={t('Unit Processes')} to={`${process.env.PUBLIC_URL}/unitprocesses`} component={Link} />\n            <Tab label={t('Treatment Trains')} to={`${process.env.PUBLIC_URL}/treatmenttrains`} component={Link} />\n            {/* <Tab label={t('Case Studies')} to={`${process.env.PUBLIC_URL}/casestudies`} component={Link} /> */}\n          </Tabs>\n        </Paper>\n\n        <div className={classes.main}>\n          <Switch>\n            <Route exact path={`${process.env.PUBLIC_URL}/`} component={GeneralReference} />\n            <Route path={`${process.env.PUBLIC_URL}/learn`} component={GeneralReference} />\n            <Route path={`${process.env.PUBLIC_URL}/general`} component={GeneralReference} />\n            <Route path={`${process.env.PUBLIC_URL}/pestle`} component={Pestle} />\n            <Route path={`${process.env.PUBLIC_URL}/waterqualities`} component={WaterQualities} />\n            <Route path={`${process.env.PUBLIC_URL}/unitprocesses`} component={UnitProcesses} />\n            <Route path={`${process.env.PUBLIC_URL}/treatmenttrains`} component={TreatmentTrains} />\n            <Route path={`${process.env.PUBLIC_URL}/casestudies`} component={CaseStudies} />\n          </Switch>\n        </div>\n      </Router>\n    </div>\n  )\n}\n","import { createSlice } from '@reduxjs/toolkit'\n\nexport const caseSlice = createSlice({\n  name: 'case',\n  initialState: {\n    step: 0,\n    completedSteps: [null, null, null, null],\n    commInfo: {\n      countryID: null,\n      currency: null //0 is USD, 1 is local currency\n    },\n    inputQuality: {\n      category: null,\n      qualityClass: null\n    },\n    endUse: {\n      category: null,\n      qualityClass: null\n    },\n    quantity: {\n      amount: null,\n      distance: null,\n      heightDifference: null\n    },\n    solution: {\n      noneNeeded: true,\n      noneAvailable: false,\n      sortByCost: false\n    },\n    solutions: [\n      {\n        treatmentTrain: null,\n        rating: null,\n        capex: null,\n        annualizedCapex: null,\n        annualizedCapexPerCubic: null\n      },\n      {\n        treatmentTrain: null,\n        rating: null,\n        capex: null,\n        annualizedCapex: null,\n        annualizedCapexPerCubic: null\n      },\n      {\n        treatmentTrain: null,\n        rating: null,\n        capex: null,\n        annualizedCapex: null,\n        annualizedCapexPerCubic: null\n      }\n    ]\n  },\n  reducers: {\n    next: state => {\n      state.step += 1\n    },\n    previous: state => {\n      state.step -= 1\n    },\n    reset: state => {\n      state.step = 0\n    },\n    setStep: (state, action) => {\n      state.step = action.payload\n    },\n    setCountry: (state, action) => {\n      state.commInfo.countryID = action.payload\n      state.commInfo.currency = null\n      state.completedSteps[0] = null\n    },\n    setCurrency: (state, action) => {\n      action.payload === 1000 ? (state.commInfo.currency = 0) : (state.commInfo.currency = 1)\n      state.completedSteps[0] = 0\n    },\n    setInputQualityCategory: (state, action) => {\n      state.inputQuality.category = action.payload\n      state.inputQuality.qualityClass = null\n      state.completedSteps[1] = null\n    },\n    setInputQualityClass: (state, action) => {\n      state.inputQuality.qualityClass = action.payload\n      state.completedSteps[1] = 1\n    },\n    setEndUseQualityCategory: (state, action) => {\n      state.endUse.category = action.payload\n      state.endUse.qualityClass = null\n      state.completedSteps[2] = null\n    },\n    setEndUseQualityClass: (state, action) => {\n      state.endUse.qualityClass = action.payload\n      state.completedSteps[2] = 2\n    },\n    setQuantity: (state, action) => {\n      state.quantity.amount = action.payload\n      if (action.payload === null) {\n        state.completedSteps[3] = null\n      }\n      if (action.payload !== null && state.quantity.distance !== null) {\n        state.completedSteps[3] = 3\n      }\n    },\n    setDistance: (state, action) => {\n      state.quantity.distance = action.payload\n      if (action.payload === null) {\n        state.completedSteps[3] = null\n      }\n      if (action.payload !== null && state.quantity.quantity !== null) {\n        state.completedSteps[3] = 3\n      }\n    },\n    setHeightDifference: (state, action) => {\n      state.quantity.heightDifference = action.payload\n    },\n    setSolutionNoneNeeded: (state, action) => {\n      state.solution.noneNeeded = action.payload\n    },\n    resetSolutions: state => {\n      state.solution.noneNeeded = false\n      state.solution.noneAvailable = false\n    },\n    setSolutionNoneAvailable: (state, action) => {\n      state.solution.noneAvailable = action.payload\n    },\n    setSolutions: (state, action) => {\n      action.payload.forEach((treatment, index) => {\n        state.solutions[index].treatmentTrain = treatment.treatmentTrain\n        state.solutions[index].rating = treatment.rating\n        state.solutions[index].capex = treatment.capex\n        state.solutions[index].annualizedCapex = treatment.annualizedCapex\n        state.solutions[index].annualizedCapexPerCubic = treatment.annualizedCapexPerCubic\n      })\n    },\n    setSolutionSortByCost: (state, action) => {\n      state.solution.sortByCost = action.payload\n    }\n  }\n})\n\n// Action creators are generated for each case reducer function\nexport const {\n  next,\n  previous,\n  reset,\n  setStep,\n  setCountry,\n  setCurrency,\n  setInputQualityCategory,\n  setInputQualityClass,\n  setEndUseQualityCategory,\n  setEndUseQualityClass,\n  setQuantity,\n  setDistance,\n  setHeightDifference,\n  resetSolutions,\n  setSolutionNoneNeeded,\n  setSolutionNoneAvailable,\n  setSolutions,\n  setSolutionSortByCost\n} = caseSlice.actions\n\nexport default caseSlice.reducer\n","import React from 'react'\nimport { Tooltip, Typography } from '@material-ui/core'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport { useSelector, useDispatch } from 'react-redux'\nimport Autocomplete from '@material-ui/lab/Autocomplete'\nimport communityInfo from '../data/communityInfo'\nimport { setCountry, setCurrency } from '../case/caseSlice'\nimport Chip from '@material-ui/core/Chip'\nimport { useTranslation } from 'react-i18next'\nimport i18next from 'i18next'\n\nexport default function CommInfo() {\n  const commInfo = useSelector(state => state.case.commInfo)\n  const dispatch = useDispatch()\n  const countries = []\n  communityInfo.map(country => {\n    return countries.push(country.name)\n  })\n\n  const { t } = useTranslation()\n  const lang = i18next.language\n\n  const usdObj = { id: 1000, currency: 'USD' }\n\n  if (commInfo.countryID === null) {\n    dispatch(setCountry(0))\n  }\n  if (commInfo.currency === null) {\n    dispatch(setCurrency(0))\n  }\n\n  return (\n    <Grid container direction=\"row\" alignItems=\"center\" spacing={3}>\n      <Grid item xs={12}>\n        <Typography variant=\"h6\">{t('Community Information')}</Typography>\n      </Grid>\n      <Grid item xs={4}>\n        <Typography>{t('Select the Country')}</Typography>\n      </Grid>\n      <Grid item xs={6}>\n        <Autocomplete\n          id=\"country\"\n          options={communityInfo}\n          getOptionLabel={option => (option.name ? (lang === 'en' ? option.name : option.nameEs) : null)}\n          getOptionSelected={(option, value) => option.name === value.name}\n          onChange={(event, newValue) => dispatch(setCountry(newValue.id))}\n          disableClearable\n          value={commInfo.countryID !== null ? communityInfo[commInfo.countryID] : null}\n          renderInput={params => <TextField {...params} variant=\"outlined\" />}\n        />\n      </Grid>\n      <Grid item xs={2} style={{ textAlign: 'center' }}>\n        <Tooltip title={t('Information about countries')}>\n          <Chip label=\"?\" size=\"small\" />\n        </Tooltip>\n      </Grid>\n      <Grid item xs={4}>\n        <Typography>{t('Select the Currency')}</Typography>\n      </Grid>\n      <Grid item xs={6}>\n        <Autocomplete\n          id=\"currency\"\n          options={[communityInfo[commInfo.countryID], usdObj]}\n          getOptionLabel={option => option.currency}\n          getOptionSelected={(option, value) => option.currency === value.currency}\n          onChange={(event, newValue) => dispatch(setCurrency(newValue.id))}\n          disableClearable\n          value={\n            commInfo.currency !== null ? (commInfo.currency === 0 ? usdObj : communityInfo[commInfo.countryID]) : null\n          }\n          disabled={commInfo.countryID === null ? true : false}\n          renderInput={params => <TextField {...params} variant=\"outlined\" />}\n        />\n      </Grid>\n      <Grid item xs={2} style={{ textAlign: 'center' }}>\n        <Tooltip title={t('Information about currencies')}>\n          <Chip label=\"?\" size=\"small\" />\n        </Tooltip>\n      </Grid>\n      {commInfo.currency !== null ? (\n        <>\n          <Grid item xs={4}>\n            <Typography>{t('Land Cost')}</Typography>\n          </Grid>\n          <Grid item xs={8}>\n            <Typography>\n              {commInfo.currency === 0\n                ? Math.round(communityInfo[commInfo.countryID].landCost * 100) / 100 + ' ' + usdObj.currency\n                : Math.round(\n                    communityInfo[commInfo.countryID].landCost * communityInfo[commInfo.countryID].exchangeToUSD * 100\n                  ) /\n                    100 +\n                  ' ' +\n                  communityInfo[commInfo.countryID].currency}\n            </Typography>\n          </Grid>\n          <Grid item xs={4}>\n            <Typography>{t('Electricity Cost')}</Typography>\n          </Grid>\n          <Grid item xs={8}>\n            <Typography>\n              {commInfo.currency === 0\n                ? Math.round(communityInfo[commInfo.countryID].electricityCost * 100) / 100 + ' ' + usdObj.currency\n                : Math.round(\n                    communityInfo[commInfo.countryID].electricityCost *\n                      communityInfo[commInfo.countryID].exchangeToUSD *\n                      100\n                  ) /\n                    100 +\n                  ' ' +\n                  communityInfo[commInfo.countryID].currency}\n            </Typography>\n          </Grid>\n          <Grid item xs={4}>\n            <Typography>{t('Personal Cost')}</Typography>\n          </Grid>\n          <Grid item xs={8}>\n            <Typography>\n              {commInfo.currency === 0\n                ? Math.round(communityInfo[commInfo.countryID].personalCost * 100) / 100 + ' ' + usdObj.currency\n                : Math.round(\n                    communityInfo[commInfo.countryID].personalCost *\n                      communityInfo[commInfo.countryID].exchangeToUSD *\n                      100\n                  ) /\n                    100 +\n                  ' ' +\n                  communityInfo[commInfo.countryID].currency}\n            </Typography>\n          </Grid>\n          <Grid item xs={4}>\n            <Typography>{t('Discount Rate')}</Typography>\n          </Grid>\n          <Grid item xs={8}>\n            <Typography>{communityInfo[commInfo.countryID].discountRate * 100 + '%'}</Typography>\n          </Grid>\n        </>\n      ) : (\n        <div />\n      )}\n    </Grid>\n  )\n}\n","import React from 'react'\nimport { ResponsiveBar } from '@nivo/bar'\nimport { useTheme } from '@material-ui/core/styles'\nimport { Paper } from '@material-ui/core'\nimport { useTranslation } from 'react-i18next'\n\nexport const Bar = props => {\n  const theme = useTheme()\n  const { t } = useTranslation()\n\n  var outputColor = theme.palette.primary.main\n\n  if (Number(props.input) > Number(props.output)) {\n    outputColor = theme.palette.error.main\n  } else {\n    outputColor = theme.palette.success.main\n  }\n\n  const average = {\n    name: t('avg. input'),\n    [props.factor]: props.average,\n    color: theme.palette.action.disabled\n  }\n\n  const input = {\n    name: t('input'),\n    [props.factor]: props.input,\n    color: theme.palette.primary.main\n  }\n\n  const output = {\n    name: t('output'),\n    [props.factor]: props.output,\n    color: outputColor\n  }\n\n  let data = []\n\n  if (props.input) {\n    data.push(input)\n  }\n\n  if (props.output) {\n    data.push(output)\n  }\n\n  if (props.average & props.input) {\n    data.push(average)\n  }\n\n  var legend\n\n  if (props.factor === 'turbidity') {\n    legend = t('Turbidity') + ' [' + props.unit + ']'\n  } else {\n    legend = props.factor.toUpperCase() + ' [' + props.unit + ']'\n  }\n\n  function getLabel(d) {\n    if (props.factor === 'tc' || props.factor === 'fc') {\n      return Number(d.value)\n        .toExponential()\n        .toLocaleString('de-CH')\n    } else {\n      return Number(d.value).toLocaleString('de-CH')\n    }\n  }\n\n  return (\n    <div style={{ height: 250, width: 100 }}>\n      <ResponsiveBar\n        data={data}\n        indexBy=\"name\"\n        keys={[props.factor]}\n        margin={{ top: 10, right: 0, bottom: 50, left: 0 }}\n        padding={0.3}\n        valueScale={{ type: 'linear' }}\n        indexScale={{ type: 'band', round: true }}\n        colors={d => d.data.color}\n        colorBy=\"id\"\n        axisTop={null}\n        axisRight={null}\n        axisBottom={{\n          tickSize: 5,\n          tickPadding: 5,\n          tickRotation: 0,\n          legend: legend,\n          legendPosition: 'middle',\n          legendOffset: 40\n        }}\n        labelSkipHeight={36}\n        label={d => getLabel(d)}\n        enableGridY={false}\n        animate={true}\n        motionStiffness={115}\n        motionDamping={15}\n        tooltip={({ id, value }) => (\n          <Paper\n            style={{\n              padding: 12,\n              background: '#fff'\n            }}\n          >\n            {id.toUpperCase() + ':'} <br /> {Number(value).toLocaleString('de-CH') + ' [' + props.unit + ']'}\n          </Paper>\n        )}\n      />\n    </div>\n  )\n}\n","import React from 'react'\nimport { Tooltip, Typography } from '@material-ui/core'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport { useSelector, useDispatch } from 'react-redux'\nimport Autocomplete from '@material-ui/lab/Autocomplete'\nimport waterQualities from '../data/waterQualities.json'\nimport waterQualityCategories from '../data/waterQualityCategories.json'\nimport waterQualityFactors from '../data/waterQualityFactors.json'\nimport { setInputQualityCategory, setInputQualityClass } from '../case/caseSlice'\nimport Chip from '@material-ui/core/Chip'\nimport { useTranslation } from 'react-i18next'\nimport i18next from 'i18next'\nimport { Bar } from './Bar'\nimport { useTheme } from '@material-ui/core/styles'\n\nexport default function InputQuality() {\n  const inputQuality = useSelector(state => state.case.inputQuality)\n  const dispatch = useDispatch()\n\n  const theme = useTheme()\n\n  const { t } = useTranslation()\n  const lang = i18next.language\n\n  if (inputQuality.category === null) {\n    dispatch(setInputQualityCategory(28))\n  }\n\n  return (\n    <Grid container direction=\"row\" alignItems=\"center\" spacing={3}>\n      <Grid item xs={12}>\n        <Typography variant=\"h6\">{t('Input Quality')}</Typography>\n      </Grid>\n      <Grid item xs={4}>\n        <Typography>{t('Select the Category')}</Typography>\n      </Grid>\n      <Grid item xs={6}>\n        <Autocomplete\n          id=\"category\"\n          options={waterQualityCategories.filter(category => category.input === true)}\n          getOptionLabel={option => (option.name ? (lang === 'en' ? option.name : option.nameEs) : null)}\n          getOptionSelected={(option, value) => option.name === value.name}\n          onChange={(event, newValue) => dispatch(setInputQualityCategory(newValue.id))}\n          disableClearable\n          value={inputQuality.category !== null ? waterQualityCategories[inputQuality.category] : null} //Peru is default Category\n          renderInput={params => <TextField {...params} variant=\"outlined\" />}\n        />\n      </Grid>\n      <Grid item xs={2} style={{ textAlign: 'center' }}>\n        <Tooltip title=\"Information about categories\">\n          <Chip label=\"?\" size=\"small\" />\n        </Tooltip>\n      </Grid>\n      <Grid item xs={4}>\n        <Typography>{t('Water Quality Class')}</Typography>\n      </Grid>\n      <Grid item xs={6}>\n        <Autocomplete\n          id=\"quality\"\n          options={waterQualities.filter(q => q.category === inputQuality.category)}\n          getOptionLabel={option => (option.name ? (lang === 'en' ? option.name : option.nameEs) : null)}\n          getOptionSelected={(option, value) => option.name === value.name}\n          onChange={(event, newValue) => dispatch(setInputQualityClass(newValue.id))}\n          disableClearable\n          value={inputQuality.qualityClass !== null ? waterQualities[inputQuality.qualityClass] : null}\n          renderInput={params => <TextField {...params} variant=\"outlined\" />}\n          disabled={inputQuality.category === null ? true : false}\n        />\n      </Grid>\n      <Grid item xs={2} style={{ textAlign: 'center' }}>\n        <Tooltip title=\"Information about water quality classes\">\n          <Chip label=\"?\" size=\"small\" />\n        </Tooltip>\n      </Grid>\n\n      <Grid item container xs={12} justifyContent=\"space-evenly\" alignItems=\"center\">\n        {inputQuality.qualityClass !== null\n          ? waterQualityFactors.map((f, index) => {\n              const key = f.name\n\n              return (\n                <div key={index} style={{ width: 'calc(1/6*80%' }}>\n                  <Bar\n                    factor={f.name}\n                    unit={f.unit}\n                    input={\n                      inputQuality.qualityClass === null\n                        ? null\n                        : waterQualities[inputQuality.qualityClass][key] < 0\n                        ? null\n                        : waterQualities[inputQuality.qualityClass][key]\n                    }\n                    average={waterQualities[0][key]}\n                  />\n                </div>\n              )\n            })\n          : waterQualityFactors.map((f, index) => {\n              return (\n                <div key={index} style={{ width: 'calc(1/6*80%' }}>\n                  <Bar factor={f.name} unit={f.unit} />\n                </div>\n              )\n            })}\n      </Grid>\n\n      <Grid item container xs={12} justifyContent=\"space-evenly\" alignItems=\"flex-start\">\n        <Grid item container xs={3} direction=\"column\" alignItems=\"center\" justifyContent=\"flex-start\">\n          <Grid item>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\">\n              <g>\n                <rect width=\"20\" height=\"20\" fill={theme.palette.primary.main}></rect>\n              </g>\n            </svg>\n          </Grid>\n          <Grid item>\n            <Typography variant=\"caption\">{t('Input')}</Typography>\n          </Grid>\n        </Grid>\n\n        <Grid item container xs={3} direction=\"column\" alignItems=\"center\" justifyContent=\"flex-start\">\n          <Grid item>\n            <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\">\n              <g>\n                <rect width=\"20\" height=\"20\" fill={theme.palette.action.disabled}></rect>\n              </g>\n            </svg>\n          </Grid>\n          <Grid item>\n            <Typography variant=\"caption\">{t('Average Input')}</Typography>\n          </Grid>\n        </Grid>\n      </Grid>\n    </Grid>\n  )\n}\n","import React from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport makeStyles from '@material-ui/core/styles/makeStyles'\nimport Chip from '@material-ui/core/Chip'\nimport Paper from '@material-ui/core/Paper'\nimport { Typography } from '@material-ui/core'\nimport Switch from '@material-ui/core/Switch'\n\nimport { useTranslation } from 'react-i18next'\nimport treatmentTrains from '../data/treatmentTrains.json'\nimport communityInfo from '../data/communityInfo.json'\nimport unitProcesses from '../data/unitProcesses.json'\nimport waterQualities from '../data/waterQualities'\nimport Tooltip from '@material-ui/core/Tooltip'\nimport CalculateSolutions from '../case/CalculateSolutions'\n\nimport { setSolutionSortByCost } from '../case/caseSlice'\n\nimport i18next from 'i18next'\n\nconst useStyles = makeStyles(theme => ({\n  paper: {\n    backgroundColor: theme.palette.background.default,\n    padding: 10\n  }\n}))\n\nexport default function SolutionsBox() {\n  const classes = useStyles()\n\n  const caseState = useSelector(state => state.case)\n\n  const dispatch = useDispatch()\n\n  const { t } = useTranslation()\n  const lang = i18next.language\n\n  const commInfo = caseState.commInfo\n  const inputQuality = waterQualities[caseState.inputQuality.qualityClass]\n  const endUseQuality = waterQualities[caseState.endUse.qualityClass]\n  const amount = caseState.quantity.amount\n  const sortByCost = caseState.solution.sortByCost\n\n  CalculateSolutions(commInfo, inputQuality, endUseQuality, amount, sortByCost)\n\n  const handleChangePriority = value => {\n    dispatch(setSolutionSortByCost(!sortByCost))\n  }\n\n  return (\n    <Paper className={classes.paper} elevation={0}>\n      <Grid container spacing={1}>\n        <Grid item xs={12}>\n          <Typography variant=\"h6\">{t('Solutions')}</Typography>\n          <Typography variant=\"caption\">\n            {caseState.solution.noneNeeded\n              ? t(\n                  'Based on your input, no treatment is needed because the input quality is better than the end use quality.'\n                )\n              : caseState.solution.noneAvailable\n              ? t('Based on your input, theres no possible solution')\n              : t('Based on your input, the following treatment trains are best suited for the case.')}\n          </Typography>\n        </Grid>\n\n        {!caseState.solution.noneNeeded & !caseState.solution.noneAvailable ? (\n          <Grid item container xs={12} spacing={1} alignItems=\"center\">\n\n            {caseState.solutions[0].capex !== 0 ?\n            <Grid item container alignItems=\"center\" spacing={1} xs={12} justifyContent=\"space-between\">\n              <Grid item>\n                <Typography>{t('Sort by cost')}</Typography>\n              </Grid>\n              <Grid item>\n                <Switch color=\"primary\" checked={sortByCost} onChange={event => handleChangePriority(event)} />\n              </Grid>\n            </Grid> : null }\n\n            {caseState.solutions.map((solution, index) => (\n              <>\n                <Grid item container justifyContent=\"flex-start\" spacing={1} xs={12}>\n                  <Grid item>\n                    <Chip label={index + 1} color=\"secondary\" size=\"small\" />\n                  </Grid>\n                  <Grid item>\n                    <Typography>\n                      {lang === 'en'\n                        ? treatmentTrains[solution.treatmentTrain].category\n                        : treatmentTrains[solution.treatmentTrain].categoryEs}\n                    </Typography>\n                  </Grid>\n                </Grid>\n                <Grid item xs={6}>\n                  <Typography>{t('Case Study')}:</Typography>\n                </Grid>\n                <Grid item xs={6}>\n                  <Typography>{treatmentTrains[solution.treatmentTrain].title}</Typography>\n                </Grid>\n                <Grid item xs={6}>\n                  <Typography>{t('Rating')}:</Typography>\n                </Grid>\n                <Grid item xs={6}>\n                  <Typography>{Math.round(((solution.rating * 10) / 3) * 1000) / 1000}</Typography>\n                </Grid>\n                {!isNaN(solution.annualizedCapexPerCubic) ? (\n                  <>\n                    <Grid item xs={6}>\n                      <Typography>{t('Yearly Capital Expenditures')}:</Typography>\n                    </Grid>\n                    <Grid item xs={6}>\n                      <Typography>\n                        {commInfo.currency === 0 ? (\n                          <>{Math.round(solution.annualizedCapexPerCubic * 1000).toLocaleString('de-CH')} $/m&sup3;</>\n                        ) : (\n                          <>\n                            {(\n                              communityInfo[commInfo.countryID].exchangeToUSD *\n                              Math.round(solution.annualizedCapexPerCubic * 1000)\n                            ).toLocaleString('de-CH')}{' '}\n                            {communityInfo[commInfo.countryID].currency}/m&sup3;\n                          </>\n                        )}\n                      </Typography>\n                    </Grid>\n                  </>\n                ) : (\n                  <div />\n                )}\n                <Grid item xs={6}>\n                  <Typography>{t('Unit Processes')}:</Typography>\n                </Grid>\n                <Grid item xs={6}>\n                  {treatmentTrains[solution.treatmentTrain].unit_processes.map((up, index) => (\n                    <Tooltip key={index} title={lang === 'en' ? unitProcesses[up].name : unitProcesses[up].nameEs}>\n                      <Chip label={up} key={index} size=\"small\" color=\"primary\" style={{ margin: 2 }} />\n                    </Tooltip>\n                  ))}\n                </Grid>\n              </>\n            ))}\n          </Grid>\n        ) : (\n          <div />\n        )}\n      </Grid>\n    </Paper>\n  )\n}\n","import { useDispatch } from 'react-redux'\nimport { setSolutionNoneAvailable, setSolutionNoneNeeded, setSolutions } from './caseSlice'\nimport unitProcesses from '../data/unitProcesses'\nimport treatmentTrains from '../data/treatmentTrains'\n\nexport default function CalculateSolutions(comm, input, enduse, amount, byCost) {\n  const dispatch = useDispatch()\n\n  const qualityFactors = ['turbidity', 'tss', 'bod', 'cod', 'fc', 'tc']\n\n  const costFactors = [\n    'construction_cost',\n    'land_requirements',\n    'energy_requirements',\n    'labor_requirements',\n    'other_om'\n  ]\n\n  let treatmentFactors = []\n\n  qualityFactors.forEach(qualityFactor => {\n    if ((Number(input[qualityFactor]) > Number(enduse[qualityFactor])) & (Number(enduse[qualityFactor]) !== -1)) {\n      //Check here if -1 and don't push?\n      dispatch(setSolutionNoneNeeded(false))\n      treatmentFactors.push(qualityFactor)\n    }\n  })\n\n  const evaluationCriteria = [\n    'reliability',\n    'ease_to_upgrade',\n    'adaptability_to_varying_flow',\n    'adaptability_to_varying_quality',\n    'ease_of_om',\n    'ease_of_construction',\n    'ease_of_demonstration',\n    'power_demand',\n    'chemical_demand',\n    'odor_generation',\n    'impact_on_ground_water',\n    'land_requirements',\n    'cost_of_treatment',\n    'waste'\n  ]\n\n  function findSuitableTreatments(input, endUse, TreatmentFactors) {\n    let outputQualities = []\n\n    treatmentTrains.forEach((treatmentTrain, index) => {\n      let suitableTreatmentTrain = true\n      let outputQualityPerFactor = []\n      let outputCostPerFactor = []\n      let rating = 0\n\n      TreatmentFactors.forEach((treatmentFactor, index) => {\n        let outputQualityStep = Number(input[treatmentFactor])\n\n        treatmentTrain.unit_processes.forEach(unitProcess => {\n          outputQualityStep =\n            outputQualityStep - (outputQualityStep * Number(unitProcesses[unitProcess][treatmentFactor])) / 100\n        })\n\n        outputQualityPerFactor[treatmentFactor] = outputQualityStep\n\n        if (outputQualityPerFactor[treatmentFactor] > Number(endUse[treatmentFactor])) {\n          suitableTreatmentTrain = false\n        }\n      })\n\n      costFactors.forEach(costFactor => {\n        outputCostPerFactor[costFactor] = 0\n      })\n\n      let annualizedCapex = 0\n\n      treatmentTrain.unit_processes.forEach(unitProcess => {\n        evaluationCriteria.forEach(criteria => {\n          rating = rating + Number(unitProcesses[unitProcess][criteria])\n        })\n\n        if (amount !== null) {\n          costFactors.forEach(costFactor => {\n            let outputCostStep = 0\n            outputCostStep =\n              outputCostStep +\n              Number(unitProcesses[unitProcess][costFactor + '_c']) *\n                Number(amount) ** Number(unitProcesses[unitProcess][costFactor + '_b'])\n\n            outputCostPerFactor[costFactor] = outputCostPerFactor[costFactor] + outputCostStep\n\n            if (costFactor === 'construction_cost') {\n              annualizedCapex += (outputCostStep * 1.39 * 1.27) / unitProcesses[unitProcess]['useful_life']\n            }\n          })\n        }\n      })\n\n      if (suitableTreatmentTrain) {\n        outputQualities.push({\n          id: index,\n          treatmentTrain: treatmentTrain.id,\n          treatmentTrainTitle: treatmentTrain.title, //not necessary\n          turbidity: outputQualityPerFactor['turbidity'],\n          tss: outputQualityPerFactor['tss'],\n          bod: outputQualityPerFactor['bod'],\n          cod: outputQualityPerFactor['cod'],\n          fc: outputQualityPerFactor['fc'],\n          tc: outputQualityPerFactor['tc'],\n          constructionCost: outputCostPerFactor['construction_cost'],\n          landRequirements: outputCostPerFactor['land_requirements'],\n          energyRequirements: outputCostPerFactor['energy_requirements'],\n          laborRequirements: outputCostPerFactor['labor_requirements'],\n          otherOM: outputCostPerFactor['other_om'],\n\n          capex: outputCostPerFactor['construction_cost'] * 1.39 * 1.27,\n          annualizedCapex: annualizedCapex,\n          annualizedCapexPerCubic: annualizedCapex / amount,\n\n          rating: rating / treatmentTrain.unit_processes.length / evaluationCriteria.length\n        })\n      }\n    })\n\n    if (outputQualities.length === 0) {\n      dispatch(setSolutionNoneAvailable(true))\n    } else {\n      dispatch(setSolutionNoneAvailable(false))\n    }\n\n    return outputQualities\n  }\n\n  function findTopTreatments(outputQualities) {\n    let topThreeTreatments\n\n    if (byCost) {\n      topThreeTreatments = outputQualities.sort((a, b) => a.annualizedCapex - b.annualizedCapex).slice(0, 3)\n    } else {\n      topThreeTreatments = outputQualities.sort((a, b) => b.rating - a.rating).slice(0, 3)\n    }\n\n    return topThreeTreatments\n  }\n\n  const topThreeTreatments = findTopTreatments(findSuitableTreatments(input, enduse, treatmentFactors))\n\n  dispatch(setSolutions(topThreeTreatments))\n}\n","import React from 'react'\nimport { Tooltip, Typography } from '@material-ui/core'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport { useSelector, useDispatch } from 'react-redux'\nimport Autocomplete from '@material-ui/lab/Autocomplete'\nimport waterQualities from '../data/waterQualities.json'\nimport waterQualityCategories from '../data/waterQualityCategories.json'\nimport waterQualityFactors from '../data/waterQualityFactors.json'\nimport { setEndUseQualityCategory, setEndUseQualityClass } from '../case/caseSlice'\nimport Chip from '@material-ui/core/Chip'\nimport { useTranslation } from 'react-i18next'\nimport i18next from 'i18next'\nimport { Bar } from './Bar'\nimport { useTheme } from '@material-ui/core/styles'\nimport SolutionsBox from './SolutionsBox'\n\nexport default function EndUse() {\n  const endUse = useSelector(state => state.case.endUse)\n  const inputQuality = useSelector(state => state.case.inputQuality)\n\n  const dispatch = useDispatch()\n\n  const theme = useTheme()\n\n  const { t } = useTranslation()\n  const lang = i18next.language\n\n  if (endUse.category === null) {\n    dispatch(setEndUseQualityCategory(29))\n  }\n\n  return (\n    <Grid container direction=\"row\" alignItems=\"flex-start\" spacing={3}>\n      <Grid item container xs={endUse.qualityClass !== null ? 8 : 12} direction=\"row\" alignItems=\"center\" spacing={3}>\n        <Grid item xs={12}>\n          <Typography variant=\"h6\">{t('End Use')}</Typography>\n        </Grid>\n        <Grid item xs={4}>\n          <Typography>{t('Select the Category')}</Typography>\n        </Grid>\n        <Grid item xs={6}>\n          <Autocomplete\n            id=\"category\"\n            options={waterQualityCategories.filter(category => category.input === false)}\n            getOptionLabel={option => (option.name ? (lang === 'en' ? option.name : option.nameEs) : '')}\n            getOptionSelected={(option, value) => option.name === value.name}\n            onChange={(event, newValue) => dispatch(setEndUseQualityCategory(newValue.id))}\n            disableClearable\n            value={endUse.category !== null ? waterQualityCategories[endUse.category] : null}\n            renderInput={params => <TextField {...params} variant=\"outlined\" />}\n          />\n        </Grid>\n        <Grid item xs={2} style={{ textAlign: 'center' }}>\n          <Tooltip title=\"Information about categories\">\n            <Chip label=\"?\" size=\"small\" />\n          </Tooltip>\n        </Grid>\n        <Grid item xs={4}>\n          <Typography>{t('Water Quality Class')}</Typography>\n        </Grid>\n        <Grid item xs={6}>\n          <Autocomplete\n            id=\"quality\"\n            options={waterQualities.filter(q => q.category === endUse.category)}\n            getOptionLabel={option => (option.name ? (lang === 'en' ? option.name : option.nameEs) : '')}\n            getOptionSelected={(option, value) => option.name === value.name}\n            onChange={(event, newValue) => dispatch(setEndUseQualityClass(newValue.id))}\n            disableClearable\n            value={endUse.qualityClass !== null ? waterQualities[endUse.qualityClass] : null}\n            renderInput={params => <TextField {...params} variant=\"outlined\" />}\n            disabled={endUse.category === null ? true : false}\n          />\n        </Grid>\n        <Grid item xs={2} style={{ textAlign: 'center' }}>\n          <Tooltip title=\"Information about water quality classes\">\n            <Chip label=\"?\" size=\"small\" />\n          </Tooltip>\n        </Grid>\n\n        <Grid item container xs={12} justifyContent=\"space-evenly\" alignItems=\"center\">\n          {endUse.qualityClass !== null\n            ? waterQualityFactors.map((f, index) => {\n                const key = f.name\n\n                return (\n                  <div key={index} style={{ width: 'calc(1/6*80%' }}>\n                    <Bar\n                      factor={f.name}\n                      unit={f.unit}\n                      input={\n                        waterQualities[inputQuality.qualityClass][key] < 0\n                          ? null\n                          : waterQualities[inputQuality.qualityClass][key]\n                      }\n                      output={\n                        waterQualities[endUse.qualityClass][key] < 0 ? null : waterQualities[endUse.qualityClass][key]\n                      }\n                    />\n                  </div>\n                )\n              })\n            : waterQualityFactors.map((f, index) => {\n                const key = f.name\n\n                return (\n                  <div key={index} style={{ width: 'calc(1/6*80%' }}>\n                    <Bar\n                      factor={f.name}\n                      unit={f.unit}\n                      input={\n                        waterQualities[inputQuality.qualityClass][key] < 0\n                          ? null\n                          : waterQualities[inputQuality.qualityClass][key]\n                      }\n                    />\n                  </div>\n                )\n              })}\n        </Grid>\n\n        <Grid item container xs={12} justifyContent=\"space-evenly\" alignItems=\"flex-start\">\n          <Grid item container xs={3} direction=\"column\" alignItems=\"center\" justifyContent=\"flex-start\">\n            <Grid item>\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\">\n                <g>\n                  <rect width=\"20\" height=\"20\" fill={theme.palette.primary.main}></rect>\n                </g>\n              </svg>\n            </Grid>\n            <Grid item>\n              <Typography variant=\"caption\">{t('Input')}</Typography>\n            </Grid>\n          </Grid>\n\n          <Grid item container xs={3} direction=\"column\" alignItems=\"center\" justifyContent=\"flex-start\">\n            <Grid item>\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\">\n                <g>\n                  <rect width=\"20\" height=\"20\" fill={theme.palette.error.main}></rect>\n                </g>\n              </svg>\n            </Grid>\n            <Grid item>\n              <Typography variant=\"caption\">{t('End use, needs treatment')}</Typography>\n            </Grid>\n          </Grid>\n\n          <Grid item container xs={3} direction=\"column\" alignItems=\"center\" justifyContent=\"flex-start\">\n            <Grid item>\n              <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\">\n                <g>\n                  <rect width=\"20\" height=\"20\" fill={theme.palette.success.main}></rect>\n                </g>\n              </svg>\n            </Grid>\n            <Grid item>\n              <Typography variant=\"caption\">{t('End use, no treatment needed')}</Typography>\n            </Grid>\n          </Grid>\n        </Grid>\n      </Grid>\n      {endUse.qualityClass !== null ? (\n        <Grid item container xs={4}>\n          <SolutionsBox />\n        </Grid>\n      ) : (\n        <div />\n      )}\n    </Grid>\n  )\n}\n","import React from 'react'\nimport { Tooltip, Typography } from '@material-ui/core'\nimport Grid from '@material-ui/core/Grid'\nimport TextField from '@material-ui/core/TextField'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { setQuantity, setDistance, setHeightDifference } from '../case/caseSlice'\nimport Chip from '@material-ui/core/Chip'\nimport { useTranslation } from 'react-i18next'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport SolutionsBox from './SolutionsBox'\n\nexport default function Quantity() {\n  const quantity = useSelector(state => state.case.quantity)\n  const dispatch = useDispatch()\n\n  const { t } = useTranslation()\n\n  const [validQuantity, setValidQuantity] = React.useState(true)\n\n  const handleChangeQuantity = value => {\n    if (value >= 1 && value <= 20000 && Number.isInteger(Number(value))) {\n      setValidQuantity(true)\n      dispatch(setQuantity(value))\n    } else {\n      setValidQuantity(false)\n      dispatch(setQuantity(null))\n    }\n  }\n\n  const [validDistance, setValidDistance] = React.useState(true)\n\n  const handleChangeDistance = value => {\n    if (value >= 1 && value <= 20000 && Number.isInteger(Number(value))) {\n      setValidDistance(true)\n      dispatch(setDistance(value))\n    } else {\n      setValidDistance(false)\n      dispatch(setDistance(null))\n    }\n  }\n\n  const [validHeightDifference, setValidHeightDifference] = React.useState(true)\n\n  const handleChangeHeightDifference = value => {\n    if (value >= -1000 && value <= 1000 && Number.isInteger(Number(value))) {\n      setValidHeightDifference(true)\n      dispatch(setHeightDifference(value))\n    } else {\n      setValidHeightDifference(false)\n      dispatch(setHeightDifference(null))\n    }\n  }\n\n  return (\n    <Grid container direction=\"row\" alignItems=\"flex-start\" spacing={3}>\n      <Grid item container xs={8} direction=\"row\" alignItems=\"center\" spacing={3}>\n        <Grid item xs={12}>\n          <Typography variant=\"h6\">{t('Quantity')}</Typography>\n        </Grid>\n        <Grid item xs={4}>\n          <Typography style={{ marginBottom: 20 }}>{t('Average Quantity')}</Typography>\n        </Grid>\n        <Grid item xs={6}>\n          <TextField\n            error={!validQuantity}\n            helperText={!validQuantity ? t(\"Number must be integer and between 1 and 20'000\") : ' '}\n            id=\"standard-number\"\n            type=\"number\"\n            variant=\"outlined\"\n            InputLabelProps={{\n              shrink: true\n            }}\n            onChange={event => handleChangeQuantity(event.target.value)}\n            value={quantity.amount !== null ? quantity.amount : null}\n            InputProps={{\n              endAdornment: <InputAdornment position=\"end\">m&sup3;/{t('day')}</InputAdornment>\n            }}\n            fullWidth\n          />\n        </Grid>\n\n        <Grid item xs={2} style={{ textAlign: 'center' }}>\n          <Tooltip title=\"Information about amounts\">\n            <Chip style={{ marginBottom: 20 }} label=\"?\" size=\"small\" />\n          </Tooltip>\n        </Grid>\n\n        <Grid item xs={4}>\n          <Typography style={{ marginBottom: 20 }}>{t('Distance')}</Typography>\n        </Grid>\n        <Grid item xs={6}>\n          <TextField\n            error={!validDistance}\n            helperText={!validDistance ? t(\"Number must be integer and between 1 and 20'000\") : ' '}\n            id=\"standard-number\"\n            type=\"number\"\n            variant=\"outlined\"\n            InputLabelProps={{\n              shrink: true\n            }}\n            onChange={event => handleChangeDistance(event.target.value)}\n            value={quantity.distance !== null ? quantity.distance : null}\n            InputProps={{\n              endAdornment: <InputAdornment position=\"end\">m</InputAdornment>\n            }}\n            fullWidth\n          />\n        </Grid>\n\n        <Grid item xs={2} style={{ textAlign: 'center' }}>\n          <Tooltip title=\"Information about distance\">\n            <Chip style={{ marginBottom: 20 }} label=\"?\" size=\"small\" />\n          </Tooltip>\n        </Grid>\n\n        <Grid item xs={4}>\n          <Typography style={{ marginBottom: 20 }}>{t('Height Difference')}</Typography>\n        </Grid>\n        <Grid item xs={6}>\n          <TextField\n            error={!validHeightDifference}\n            helperText={!validHeightDifference ? t(\"Number must be integer and between -1'000 and 1'000\") : ' '}\n            id=\"standard-number\"\n            type=\"number\"\n            variant=\"outlined\"\n            InputLabelProps={{\n              shrink: true\n            }}\n            onChange={event => handleChangeHeightDifference(event.target.value)}\n            value={quantity.heightDifference !== null ? quantity.heightDifference : null}\n            InputProps={{\n              endAdornment: <InputAdornment position=\"end\">m</InputAdornment>\n            }}\n            fullWidth\n          />\n        </Grid>\n\n        <Grid item xs={2} style={{ textAlign: 'center' }}>\n          <Tooltip title=\"Information about height differences\">\n            <Chip style={{ marginBottom: 20 }} label=\"?\" size=\"small\" />\n          </Tooltip>\n        </Grid>\n      </Grid>\n      <Grid item container xs={4}>\n        <SolutionsBox />\n      </Grid>\n    </Grid>\n  )\n}\n","import React from 'react'\nimport { useSelector } from 'react-redux'\nimport Grid from '@material-ui/core/Grid'\nimport { Typography } from '@material-ui/core'\nimport { useTranslation } from 'react-i18next'\nimport i18next from 'i18next'\n\nimport communityInfo from '../data/communityInfo'\nimport waterQualities from '../data/waterQualities.json'\n\nimport PublicIcon from '@material-ui/icons/Public'\nimport AttachMoneyIcon from '@material-ui/icons/AttachMoney'\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\nimport AutorenewIcon from '@material-ui/icons/Autorenew'\nimport BatteryFullIcon from '@material-ui/icons/BatteryFull'\nimport ArrowRightAltIcon from '@material-ui/icons/ArrowRightAlt'\nimport ArrowUpwardIcon from '@material-ui/icons/ArrowUpward'\n\nexport const CaseSummary = props => {\n  const { step } = props\n\n  const caseState = useSelector(state => state.case)\n\n  const { t } = useTranslation()\n  const lang = i18next.language\n\n  return (\n    <div style={{ paddingTop: 5 }}>\n      <Grid item container spacing={1} alignItems=\"flex-start\">\n        {step === 0 ? (\n          <>\n            <Grid item>\n              {caseState.commInfo.countryID !== null ? (\n                <Grid container alignItems=\"center\" direction=\"row\" spacing={0}>\n                  <PublicIcon fontSize=\"small\" color=\"primary\" />\n\n                  <Typography variant=\"caption\">\n                    {lang === 'en'\n                      ? communityInfo[caseState.commInfo.countryID].name\n                      : communityInfo[caseState.commInfo.countryID].nameEs}\n                  </Typography>\n                  {caseState.commInfo.currency !== null ? (\n                    <>\n                      <AttachMoneyIcon fontSize=\"small\" color=\"primary\" />\n                      <Typography variant=\"caption\">\n                        {caseState.commInfo.currency === 0\n                          ? 'USD'\n                          : communityInfo[caseState.commInfo.countryID].currency}\n                      </Typography>\n                    </>\n                  ) : (\n                    <div />\n                  )}\n                </Grid>\n              ) : (\n                <div />\n              )}\n            </Grid>\n          </>\n        ) : (\n          <div />\n        )}\n\n        {step === 1 ? (\n          <Grid item>\n            {caseState.inputQuality.qualityClass !== null ? (\n              <Grid container alignItems=\"center\" direction=\"row\" spacing={0}>\n                <ExitToAppIcon fontSize=\"small\" color=\"primary\" />\n                <Typography variant=\"caption\">\n                  {lang === 'en'\n                    ? waterQualities[caseState.inputQuality.qualityClass].name\n                    : waterQualities[caseState.inputQuality.qualityClass].nameEs}\n                </Typography>\n              </Grid>\n            ) : (\n              <div />\n            )}\n          </Grid>\n        ) : (\n          <div />\n        )}\n\n        {step === 2 ? (\n          <Grid item>\n            {caseState.endUse.qualityClass !== null ? (\n              <Grid container alignItems=\"center\" direction=\"row\" spacing={0}>\n                <AutorenewIcon fontSize=\"small\" color=\"primary\" />\n                <Typography variant=\"caption\">\n                  {lang === 'en'\n                    ? waterQualities[caseState.endUse.qualityClass].name\n                    : waterQualities[caseState.endUse.qualityClass].nameEs}\n                </Typography>\n              </Grid>\n            ) : (\n              <div />\n            )}\n          </Grid>\n        ) : (\n          <div />\n        )}\n\n        {step === 3 ? (\n          <Grid item>\n            {caseState.quantity.amount !== null ? (\n              <Grid container alignItems=\"center\" direction=\"row\" spacing={0}>\n                <BatteryFullIcon fontSize=\"small\" color=\"primary\" />\n                <Typography variant=\"caption\">\n                  {caseState.quantity.amount}m&sup3;/{t('day')}\n                </Typography>\n                {caseState.quantity.distance !== null ? (\n                  <>\n                    <ArrowRightAltIcon fontSize=\"small\" color=\"primary\" />\n                    <Typography variant=\"caption\">{caseState.quantity.distance}m</Typography>\n                  </>\n                ) : (\n                  <div />\n                )}\n\n                {caseState.quantity.heightDifference !== null ? (\n                  <>\n                    <ArrowUpwardIcon fontSize=\"small\" color=\"primary\" />\n\n                    <Typography variant=\"caption\">{caseState.quantity.heightDifference}m</Typography>\n                  </>\n                ) : (\n                  <div />\n                )}\n              </Grid>\n            ) : (\n              <div />\n            )}\n          </Grid>\n        ) : (\n          <div />\n        )}\n      </Grid>\n    </div>\n  )\n}\n","import { createTheme } from '@material-ui/core'\n\nconst colors = {\n  main: '#00838f'\n}\n\nconst secondary = {\n  main: '#2196f3'\n}\n\nexport const theme = createTheme({\n  palette: {\n    primary: colors,\n    secondary: secondary\n  }\n})\n\nexport const lightTheme = createTheme({\n  palette: {\n    primary: colors,\n    secondary: secondary,\n    type: 'light'\n  }\n})\n\nexport const darkTheme = createTheme({\n  palette: {\n    primary: colors,\n    secondary: secondary,\n    type: 'dark'\n  }\n})","import React from 'react'\n\nimport { makeStyles, withStyles } from '@material-ui/core/styles'\n\nimport CommInfo from './CommInfo'\nimport InputQuality from './InputQuality'\nimport EndUse from './EndUse'\nimport Quantity from './Quantity'\nimport { CaseSummary } from './CaseSummary'\n\nimport Grid from '@material-ui/core/Grid'\nimport Paper from '@material-ui/core/Paper'\nimport Stepper from '@material-ui/core/Stepper'\nimport Step from '@material-ui/core/Step'\nimport StepLabel from '@material-ui/core/StepLabel'\nimport StepConnector from '@material-ui/core/StepConnector'\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\n\nimport { useSelector, useDispatch } from 'react-redux'\nimport { next, previous, reset } from '../case/caseSlice'\nimport { theme } from '../theme/theme'\nimport { useTranslation } from 'react-i18next'\n\nconst useStyles = makeStyles(theme => ({\n  toolbar: {\n    display: 'grid',\n    gridTemplateColumns: 'auto 1fr auto',\n    justifyItems: 'center',\n    justifyContent: 'space-between'\n  },\n  main: {\n    display: 'grid',\n    height: 'calc(100vh - 200px)',\n    width: '100vw',\n    gridTemplateColumns: '1fr',\n    gridRowGap: 8,\n    justifyItems: 'stretch',\n    justifyContent: 'center',\n    paddingLeft: '10vw',\n    paddingRight: '10vw',\n    paddingTop: 50\n  },\n  step: {\n    minHeight: 'calc(100vh - 300px)'\n  },\n  root: {\n    flexGrow: 1,\n    paddingTop: 60\n  },\n  button: {\n    marginRight: theme.spacing(1)\n  },\n  instructions: {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1)\n  }\n}))\n\nconst CustomConnector = withStyles({\n  root: {\n    alignSelf: 'flex-start',\n    paddingTop: '13px' //This hardcoded value sets the line in the middle of the stepper icons. It's not optimal.\n  },\n  line: {\n    borderRadius: 1\n  }\n})(StepConnector)\n\nfunction getStepContent(step) {\n  switch (step) {\n    case 0:\n      return <CommInfo />\n    case 1:\n      return <InputQuality />\n    case 2:\n      return <EndUse />\n    case 3:\n      return <Quantity />\n    default:\n      return 'Unknown step'\n  }\n}\n\nexport const Case = () => {\n  const { t } = useTranslation()\n\n  const getSteps = () => {\n    return [\n      t('Community Information'),\n      t('Input Quality'),\n      t('End Use'),\n      t('Quantity') /* , t('Personalize Solutions') */\n    ]\n  }\n\n  const count = useSelector(state => state.case.step)\n  const completedSteps = useSelector(state => state.case.completedSteps)\n\n  const dispatch = useDispatch()\n\n  const classes = useStyles()\n  const steps = getSteps()\n\n  const handleReset = () => {\n    dispatch(reset())\n  }\n\n  return (\n    <div className=\"App\">\n      <Paper className={classes.root} square elevation={3}>\n        <Stepper activeStep={count} connector={<CustomConnector />}>\n          {steps.map((label, index) => {\n            const stepProps = {}\n            const labelProps = {}\n            return (\n              <Step key={label} {...stepProps} style={{ alignSelf: 'flex-start' }}>\n                <StepLabel {...labelProps}>{label}</StepLabel>\n                <CaseSummary step={index} />\n              </Step>\n            )\n          })}\n        </Stepper>\n      </Paper>\n\n      <div className={classes.main}>\n        <Paper elevation={0} style={{ padding: 10 }}>\n          <Grid container spacing={3}>\n            <Grid item container xs={12}>\n              {count === steps.length ? (\n                <div>\n                  <Typography className={classes.instructions}>All steps completed - you&apos;re finished</Typography>\n                  <Button onClick={handleReset} className={classes.button}>\n                    Reset\n                  </Button>\n                </div>\n              ) : (\n                <Grid\n                  item\n                  container\n                  direction=\"column\"\n                  alignItems=\"center\"\n                  className={classes.step}\n                >\n                  {getStepContent(count)}\n\n                  <div style={{ paddingTop: theme.spacing(2) }}>\n                    <Button disabled={count === 0} onClick={() => dispatch(previous())} className={classes.button}>\n                      {t('Back')}\n                    </Button>\n                    <Button\n                      variant=\"contained\"\n                      color=\"primary\"\n                      onClick={() => dispatch(next())}\n                      className={classes.button}\n                      disabled={completedSteps.includes(count) ? false : true}\n                    >\n                      {count === steps.length - 1 ? t('Finish') : t('Next')}\n                    </Button>\n                  </div>\n                </Grid>\n              )}\n            </Grid>\n          </Grid>\n        </Paper>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\n\nimport { makeStyles } from '@material-ui/core/styles'\n\nimport Paper from '@material-ui/core/Paper'\nimport { MuiThemeProvider } from '@material-ui/core/styles'\nimport MUIDataTable from 'mui-datatables'\n\nimport { useTranslation } from 'react-i18next'\nimport i18next from 'i18next'\n\nimport { useSelector } from 'react-redux'\n\nimport treatmentTrains from '../data/treatmentTrains.json'\nimport unitProcesses from '../data/unitProcesses.json'\nimport communityInfo from '../data/communityInfo.json'\n\nimport Chip from '@material-ui/core/Chip'\nimport Tooltip from '@material-ui/core/Tooltip'\n\nconst useStyles = makeStyles(theme => ({\n  main: {\n    display: 'grid',\n    height: 'calc(100vh - 200px)',\n    width: '100vw',\n    gridTemplateColumns: '1fr',\n    gridRowGap: 8,\n    justifyItems: 'stretch',\n    justifyContent: 'center',\n    paddingLeft: '10vw',\n    paddingRight: '10vw',\n    paddingTop: 110\n  },\n  root: {\n    flexGrow: 1,\n    paddingTop: 120\n  }\n}))\n\n/* const styles = theme => ({\n  chipContainer: {\n    display: 'flex',\n    justifyContent: 'left',\n    flexWrap: 'wrap',\n    '& > *': {\n      margin: 2\n    }\n  }\n}) */\n\nexport const Results = () => {\n  const getMuiTheme = theme => ({\n    overrides: {\n      MUIDataTable: {\n        paper: {\n          boxShadow: 'none'\n        }\n      }\n    }\n  })\n\n  const classes = useStyles()\n\n  const { t } = useTranslation()\n\n  const lang = i18next.language\n\n  const solutionsState = useSelector(state => state.case.solutions)\n  const commInfo = useSelector(state => state.case.commInfo)\n\n  const columns = [\n    {\n      name: 'Ranking',\n      label: t('Ranking'),\n      options: {\n        filter: true,\n        customBodyRenderLite: dataIndex => {\n          return dataIndex + 1\n        }\n      }\n    },\n    {\n      name: 'treatmentTrain',\n      label: t('Treatment Train'),\n      options: {\n        filter: true,\n        customBodyRenderLite: dataIndex => {\n          return lang === 'en'\n            ? treatmentTrains[data[dataIndex].treatmentTrain].category +\n                ' - ' +\n                treatmentTrains[data[dataIndex].treatmentTrain].title\n            : treatmentTrains[data[dataIndex].treatmentTrain].categoryEs +\n                ' - ' +\n                treatmentTrains[data[dataIndex].treatmentTrain].titleEs\n        }\n      }\n    },\n    {\n      name: 'unitProcesses',\n      label: t('Unit Processes'),\n      options: {\n        filter: true,\n        customBodyRenderLite: dataIndex => {\n          return treatmentTrains[data[dataIndex].treatmentTrain].unit_processes.map((up, index) => (\n            <Tooltip title={lang === 'en' ? unitProcesses[up].name : unitProcesses[up].nameEs}>\n              <Chip label={up} key={index} size=\"small\" color=\"primary\" style={{ margin: 2 }} />\n            </Tooltip>\n          ))\n        }\n      }\n    },\n\n    {\n      name: 'rating',\n      label: t('Rating [1-10]'),\n      options: {\n        filter: true,\n        customBodyRenderLite: dataIndex => {\n          return Math.round(((data[dataIndex].rating * 10) / 3) * 1000) / 1000\n        }\n      }\n    },\n    {\n      name: 'capex',\n      label: t('Total capital expenditure (CAPEX)'),\n      options: {\n        filter: true,\n        customBodyRenderLite: dataIndex => {\n          return commInfo.currency === 0 ? (\n            <>{Math.round(data[dataIndex].capex * 1000).toLocaleString('de-CH')} $</>\n          ) : (\n            <>\n              {(\n                communityInfo[commInfo.countryID].exchangeToUSD * Math.round(data[dataIndex].capex * 1000)\n              ).toLocaleString('de-CH')}{' '}\n              {communityInfo[commInfo.countryID].currency}\n            </>\n          )\n        }\n      }\n    },\n    {\n      name: 'annualizedCapex',\n      label: t('Annualized CAPEX'),\n      options: {\n        filter: true,\n        customBodyRenderLite: dataIndex => {\n          return commInfo.currency === 0 ? (\n            <>{Math.round(data[dataIndex].annualizedCapex * 1000).toLocaleString('de-CH')} $</>\n          ) : (\n            <>\n              {(\n                communityInfo[commInfo.countryID].exchangeToUSD * Math.round(data[dataIndex].annualizedCapex * 1000)\n              ).toLocaleString('de-CH')}{' '}\n              {communityInfo[commInfo.countryID].currency}\n            </>\n          )\n        }\n      }\n    },\n    {\n      name: 'annualizedCapexPerCubic',\n      label: t('Annualized CAPEX per Cubic'),\n      options: {\n        filter: true,\n        customBodyRenderLite: dataIndex => {\n          return commInfo.currency === 0 ? (\n            <>{Math.round(data[dataIndex].annualizedCapexPerCubic * 1000).toLocaleString('de-CH')} $</>\n          ) : (\n            <>\n              {(\n                communityInfo[commInfo.countryID].exchangeToUSD *\n                Math.round(data[dataIndex].annualizedCapexPerCubic * 1000)\n              ).toLocaleString('de-CH')}{' '}\n              {communityInfo[commInfo.countryID].currency}\n            </>\n          )\n        }\n      }\n    }\n  ]\n\n  const data = solutionsState\n\n  const options = {\n    filter: true,\n    filterType: 'dropdown',\n    selectableRows: 'none',\n    rowsPerPage: 20,\n    print: false,\n    fixedHeader: true\n  }\n\n  return (\n    <div className=\"App\">\n      <div className={classes.main}>\n        <Paper elevation={0} style={{ padding: 10 }}>\n          <MuiThemeProvider theme={getMuiTheme()}>\n            <MUIDataTable title={t('Results')} data={data} columns={columns} options={options} />\n          </MuiThemeProvider>\n        </Paper>\n      </div>\n    </div>\n  )\n}\n","import React from 'react'\nimport Button from '@material-ui/core/Button'\nimport Menu from '@material-ui/core/Menu'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport TranslateIcon from '@material-ui/icons/Translate'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport i18next from 'i18next'\n\nexport default function SimpleMenu() {\n  const [anchorEl, setAnchorEl] = React.useState(null)\n\n  const handleClick = event => {\n    setAnchorEl(event.currentTarget)\n  }\n\n  const handleClose = () => {\n    setAnchorEl(null)\n  }\n\n  const handleChooseLanguage = lang => {\n    i18next.changeLanguage(lang)\n    handleClose()\n  }\n\n  return (\n    <div>\n      <Button\n        aria-controls=\"simple-menu\"\n        aria-haspopup=\"true\"\n        onClick={handleClick}\n        startIcon={<TranslateIcon />}\n        endIcon={<ExpandMoreIcon />}\n        color=\"inherit\"\n      >\n        {i18next.language === 'en' ? 'English' : 'Espaol'}\n      </Button>\n      <Menu id=\"simple-menu\" anchorEl={anchorEl} keepMounted open={Boolean(anchorEl)} onClose={handleClose}>\n        <MenuItem value=\"en\" onClick={() => handleChooseLanguage('en')}>\n          English\n        </MenuItem>\n        <MenuItem value=\"es\" onClick={() => handleChooseLanguage('es')}>\n          Espaol\n        </MenuItem>\n      </Menu>\n    </div>\n  )\n}\n","import { makeStyles } from '@material-ui/core/styles'\nimport { Theme } from '@material-ui/core'\n\nconst useStyles = makeStyles((theme: Theme) => ({\n  drop: {\n    fill: theme.palette.background.default,\n    stroke: theme.palette.background.default,\n    strokeMiterlimit: 10\n  },\n  p: {\n    stroke: theme.palette.primary.main,\n    fill: 'none',\n    strokeMiterlimit: 10,\n    strokeWidth: '2px'\n  },\n}))\n\ninterface Props {\n  readonly size: number\n}\n\nexport const PoseidonWebIcon = ({ size }: Props) => {\n\n  const classes = useStyles()\n  return (\n    \n      <svg id=\"Icon_Name\" data-name=\"Icon Name\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 24 24\" width={size} height={size}>\n        <path className={classes.drop} d=\"M12.05662.85115s-25.16751,22.17563,0,22.29788C37.1519,23.27094,11.94259.70846,12.05662.85115Z\" />\n        <path className={classes.p} d=\"M6.99152,21.31234V8.3355s11.09965-.54124,11.63938,3.66112c.66118,5.14794-11.62619,3.66558-11.63938,2.611\" />\n      </svg>\n  )\n}","import React from 'react'\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport makeStyles from '@material-ui/core/styles/makeStyles'\nimport Typography from '@material-ui/core/Typography'\nimport Button from '@material-ui/core/Button'\nimport MenuBookIcon from '@material-ui/icons/MenuBook'\nimport AddBoxIcon from '@material-ui/icons/AddBox'\nimport BarChartIcon from '@material-ui/icons/BarChart'\nimport { BrowserRouter as Router, Link, Route, Switch } from 'react-router-dom'\nimport { Learn } from './Learn'\nimport { Case } from './Case'\nimport { Results } from './Results'\nimport UserMenu from './UserMenu'\nimport { useTranslation } from 'react-i18next'\nimport Grid from '@material-ui/core/Grid'\nimport { useSelector } from 'react-redux'\nimport { PoseidonWebIcon } from '../images/PoseidonWebIcon'\n\n\nconst useStyles = makeStyles({\n  toolbar: {\n    display: 'grid',\n    gridTemplateColumns: '30% auto 30%',\n    justifyItems: 'center',\n    justifyContent: 'space-between'\n  },\n  title: {\n    textAlign: 'left'\n  },\n  root: {\n    flexGrow: 1\n  }\n})\n\nexport const App = () => {\n  const classes = useStyles()\n  const { t } = useTranslation()\n\n  const solutionsState = useSelector(state => state.case.solutions)\n\n  return (\n    <div className=\"App\">\n      <Router>\n        <AppBar elevation={0}>\n          <Toolbar className={classes.toolbar}>\n            <Grid container alignItems=\"flex-start\" spacing={1} justifyContent=\"center\">\n              <Button\n                aria-controls=\"simple-menu\"\n                aria-haspopup=\"true\"\n                component={Link}\n                to={`${process.env.PUBLIC_URL}/learn`}\n                startIcon={<MenuBookIcon />}\n                color=\"inherit\"\n              >\n                {t('Learn')}\n              </Button>\n              <Button\n                aria-controls=\"simple-menu\"\n                aria-haspopup=\"true\"\n                component={Link}\n                to={`${process.env.PUBLIC_URL}/case`}\n                startIcon={<AddBoxIcon />}\n                color=\"inherit\"\n              >\n                {t('New Case')}\n              </Button>\n              <Button\n                aria-controls=\"simple-menu\"\n                aria-haspopup=\"true\"\n                component={Link}\n                to={`${process.env.PUBLIC_URL}/results`}\n                startIcon={<BarChartIcon />}\n                color=\"inherit\"\n                disabled={solutionsState[0].treatmentTrain === null ? true : false}\n              >\n                {t('Results')}\n              </Button>\n            </Grid>{' '}\n            <Grid container alignItems=\"center\" spacing={1} justifyContent=\"center\">\n              <Grid item>\n                <PoseidonWebIcon size={24} />\n              </Grid>\n              <Grid item>\n                <Typography variant=\"h6\">Poseidon Web beta</Typography>\n              </Grid>\n            </Grid>\n            <Grid container alignItems=\"flex-end\" spacing={1} justifyContent=\"center\">\n              <UserMenu />\n            </Grid>{' '}\n          </Toolbar>\n        </AppBar>\n\n        <div>\n          <Switch>\n            <Route exact path={`${process.env.PUBLIC_URL}/`} component={Learn} />\n            <Route path={`${process.env.PUBLIC_URL}/learn`} component={Learn} />\n            <Route path={`${process.env.PUBLIC_URL}/case`} component={Case} />\n            <Route path={`${process.env.PUBLIC_URL}/results`} component={Results} />\n          </Switch>\n        </div>\n      </Router>\n    </div>\n  )\n}\n","import { App as AppComponent } from '../components/App'\nimport * as React from 'react'\nimport { CssBaseline, MuiThemeProvider as ThemeProvider } from '@material-ui/core'\nimport { theme } from '../theme/theme'\n\nexport const App = () => {\n  // This is the only place we need to access the theme via our own model\n  // From here on, it is safe and convenient to use the `useTheme` hook\n  return (\n    <ThemeProvider theme={theme}>\n      <CssBaseline />\n      <AppComponent />\n    </ThemeProvider>\n  )\n}\n","import { configureStore } from '@reduxjs/toolkit'\nimport caseReducer from './case/caseSlice'\n\nexport default configureStore({\n  reducer: {\n    case: caseReducer\n  }\n})\n","import i18n from 'i18next'\nimport { initReactI18next } from 'react-i18next'\nimport { resources } from './translations'\n\ni18n\n  .use(initReactI18next) // passes i18n down to react-i18next\n  .init({\n    resources,\n    lng: 'en', // language to use, more information here: https://www.i18next.com/overview/configuration-options#languages-namespaces-resources\n    // you can use the i18n.changeLanguage function to change the language manually: https://www.i18next.com/overview/api#changelanguage\n    // if you're using a language detector, do not define the lng option\n\n    interpolation: {\n      escapeValue: false // react already safes from xss\n    }\n  })\n\nexport default i18n\n","export const resources = {\n  es: {\n    translation: {\n      Learn: 'Aprender',\n      'New Case': 'Nuevo caso',\n      Results: 'Resultados',\n\n      'General Reference': 'Referencia general',\n      'Unit Processes': 'Procesos unitarios',\n      'Treatment Trains': 'Trenes de tratamiento',\n      'Case Studies': 'Estudios de caso',\n      'Water Qualities': 'Cualidades del agua',\n\n      Name: 'Nombre',\n      'Pollutant Removal Efficiencies [% removal]': 'Eficiencia de eliminacin de los contaminates [% de eliminacin]',\n      Turbidity: 'Turbidez',\n      Recovery: 'Recuperacin',\n      'Evaluation Criteria': 'Criterios de evaluacin',\n      'Useful Life [yrs]': 'Vida til [aos]',\n\n      reliability: 'fiabilidad',\n      'ease to upgrade': 'facilidad de actualizacin',\n      'adaptability to varying flow': 'adaptabilidad a la variabilidad del flujo',\n      'adaptability to varying quality': 'adaptabilidad a la variabilidad de la calidad',\n      'ease of O & M': 'facilidad de O & M',\n      'ease of construction': 'facilidad de construccin',\n      'ease of demonstration': 'facilidad de demostracin',\n      'power demand': 'poder de demanda',\n      'chemical demand': 'demanda de qumica',\n      'odor generation': 'generacin de olores',\n      'impact on ground water': 'impacto en aguas subterrneas',\n      'land requirements': 'requerimientos de suelo',\n      'cost of treatment': 'costo del tratamiento',\n      waste: 'residuo',\n\n      Search: 'Buscar en',\n      'Download CSV': 'Descargar CSV',\n      'View Columns': 'Ver columnas',\n      'Filter Table': 'Tabla de filtros',\n      'Rows per page': 'Filas por pginas',\n\n      Category: 'Categora',\n      Title: 'Ttulo',\n      Description: 'Descripcin',\n      'Case Study': 'Estudio de caso',\n      Note: 'Nota',\n      Reference: 'Referencia',\n\n      'Community Information': 'Informacin Comunitaria',\n      'Input Quality': 'Introducir Calidad',\n      'End Use': 'Uso Final',\n      Quantity: 'Cantidad',\n      Personalize: 'Personalizar',\n      Finish: 'Terminar',\n      Next: 'Prximo',\n      Back: 'Volver',\n      'Case Overview': 'Resumen del Caso',\n      'Select the Country': 'Seleccionar pas',\n      'Select the Currency': 'Seleccionar moneda',\n      'Land Cost': 'Costo del terreno',\n      'Electricity Cost': 'Costo de la electricidad',\n      'Personal Cost': 'Costo del personal',\n      'Discount Rate': 'Tasa de descuento',\n      Country: 'Pas',\n      Currency: 'Moneda',\n      'Select the Category': 'Seleccione una categora',\n      'Water Quality Class': 'Categora de calidad de agua',\n      'Average Quantity': 'Cantidad promedio',\n      day: 'da',\n\n      'Water Quality Indicators': 'Indicadores de calidad del agua',\n      'Number must be integer and between 1 and 1 million': 'El nmero debe ser entero y estar entre 1 y 1 milln',\n      \"Number must be integer and between 1 and 20'000\": \"El nmero debe ser entero y estar entre 1 y 20'000\",\n\n      input: 'entrada',\n      output: 'salida',\n      'avg. input': 'entr. med.',\n\n      Input: 'Entrada',\n      'Average Input': 'Entrada media',\n\n      'Personalize Solutions': 'Personalizar soluciones',\n      'Based on your input, no treatment is needed because the input quality is better than the end use quality.':\n        'Segn su aportacin, no es necesario ningn tratamiento porque la calidad de la aportacin es mejor que la del uso final.',\n      'Based on your input, theres no possible solution': 'Segn su aportacin, no hay solucin posible',\n      'Based on your input, the following treatment trains are best suited for the case.':\n        'Segn sus aportacines, los siguientes trenes de tratamiento son los ms adecuados para el caso.',\n      Rating: 'Valoracin',\n      'Treatment Train': 'Trene de tratamiento',\n      Cost: 'Coste',\n\n      'Rating [1-10]': 'Clasificacin [1-10]',\n      'This Poseidon  Web on-line application is an update of the already existing developed Poseidon application based on Microsoft Excel. The scope of the new application is to enhance the older version to a more user-friendly decision support tool, that supports pre-feasibility studies and aims at promoting water reuse and building capacities in the field. The tool developed currently encompasses 37-unit processes combined into 70 benchmark treatment trains. It also contains information on water quality standards and typical wastewater qualities. It estimates the removal performances for 12 parameters and the lifecycle costs including distribution.':\n        'Esta aplicacin Poseidn - Web on-line es una actualizacin de la aplicacin Poseidn ya desarrollada y basada en Microsoft Excel. El objetivo de la nueva aplicacin es mejorar la versin anterior para convertirla en una herramienta de apoyo a la toma de decisiones ms fcil de usar, que apoye los estudios de prefactibilidad y tenga como objetivo promover la reutilizacin del agua y la creacin de capacidades en el campo. La herramienta desarrollada actualmente abarca 37 procesos de unidades combinadas en 70 trenes de tratamiento de referencia. Tambin contiene informacin sobre las normas de calidad del agua y las calidades tpicas de las aguas residuales. Estima los rendimientos de eliminacin de 12 parmetros y los costes del ciclo de vida, incluida la distribucin.',\n      'The tool and all underlying data are open access and under continuous development. The underlying systemic approach of the tool makes it intuitive also for users with limited prior knowledge in the field to identify most adequate solutions based on a multi-criteria assessment. This should help to promote water reuse and spearhead initiates for more detailed feasibility and design commissioning for implementation of water reuse schemes.':\n        'La herramienta y todos los datos subyacentes son de libre acceso y estn en continuo desarrollo. El enfoque sistmico subyacente de la herramienta hace que sea intuitivo tambin para los usuarios con conocimientos previos limitados en el campo para identificar las soluciones ms adecuadas basadas en una evaluacin multicriterio. Esto debera ayudar a promover la reutilizacin del agua y a iniciar una viabilidad ms detallada y un encargo de diseo para la aplicacin de los planes de reutilizacin del agua.',\n\n      'The figure on the right shows a simplified flow of how the application works and how the calculations are being made.':\n        'La figura de la derecha muestra un flujo simplificado de cmo funciona la aplicacin y cmo se realizan los clculos.',\n\n      'Overview of application and calculations': 'Resumen de la aplicacin y los clculos',\n\n      Ranking: 'Clasificacin',\n      'Annualized CAPEX': 'CAPEX anualizado',\n      'Annualized CAPEX per Cubic': 'CAPEX anualizado por cubo',\n      'Total capital expenditure (CAPEX)': 'Total de gastos de capital (CAPEX)',\n      'Yearly Capital Expenditures': 'Gastos de capital anuales',\n      'Sort by cost': 'Ordenar por coste',\n\n      'Sorry, no matching records found': 'Lo sentimos, no se han encontrado registros coincidentes',\n      'Sort': 'Ordenar'\n    }\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport { App } from './app'\nimport store from './app/store'\nimport { Provider } from 'react-redux'\nimport './app/i18n/i18n'\n\nconst Root = () => (\n  <Provider store={store}>\n    <App />\n  </Provider>\n)\n\nReactDOM.render(<Root />, document.getElementById('root'))\n"],"sourceRoot":""}